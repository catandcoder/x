<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="崔某人的碎碎念,通才基础上的专才"><meta name="keywords" content="mysql,golang,算法"><title>使用dig理解DNS | 清澄秋爽</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">使用dig理解DNS</h1><a id="logo" href="/.">清澄秋爽</a><p class="description">苹果树下的思索者 书写是对思维的缓存</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">使用dig理解DNS</h1><div class="post-meta"><a href="/2016/10/11/使用dig理解DNS/#comments" class="comment-count"></a><p><span class="date">Oct 11, 2016</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>本文全篇参考自<a href="https://www.ruanyifeng.com/blog/2016/06/dns.html" target="_blank" rel="noopener">阮一峰-DNS 原理入门</a>，对照内容操作一遍。</p>
<br>
<h3 id="查询过程"><a class="header-anchor" href="#查询过程">¶</a>查询过程</h3>
<br>
<img src="/2016/10/11/使用dig理解DNS/0.png" width="100%" height="100%">
<p>六段信息：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">dig dashen.tech</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; dashen.tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">17162</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">1</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;dashen.tech.			IN	A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">dashen.tech.		<span class="number">600</span>	IN	A	<span class="number">118.126</span><span class="number">.97</span><span class="number">.71</span></span><br><span class="line"></span><br><span class="line">;; Query time: <span class="number">370</span> msec</span><br><span class="line">;; SERVER: <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>#<span class="number">53</span>(<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">11</span>:<span class="number">50</span>:<span class="number">50</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">45</span></span><br></pre></td></tr></table></figure>
<br>
<h4 id="font-color-orange-第一段是查询参数和统计-font"><a class="header-anchor" href="#font-color-orange-第一段是查询参数和统计-font">¶</a><font color="orange">第一段是查询参数和统计</font></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; dashen.tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">17162</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">1</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">0</span></span><br></pre></td></tr></table></figure>
<br>
<h4 id="font-color-orange-第二段是查询内容-font"><a class="header-anchor" href="#font-color-orange-第二段是查询内容-font">¶</a><font color="orange">第二段是查询内容</font></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;; QUESTION SECTION:</span><br><span class="line">;dashen.tech.			IN	A</span><br></pre></td></tr></table></figure>
<p>查询域名dashen.tech的A记录，A是address的缩写</p>
<br>
<h4 id="font-color-orange-第三段是DNS服务器的答复-font"><a class="header-anchor" href="#font-color-orange-第三段是DNS服务器的答复-font">¶</a><font color="orange">第三段是DNS服务器的答复 </font></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;; ANSWER SECTION:</span><br><span class="line">dashen.tech.		<span class="number">600</span>	IN	A	<span class="number">118.126</span><span class="number">.97</span><span class="number">.71</span></span><br></pre></td></tr></table></figure>
<p>上面结果显示，dashen.tech有四个A记录，即一个IP地址。</p>
<p>600是TTL值（Time to live），表示缓存时间，即600秒之内不用重新查询。</p>
<p>如果是<code>dig bilibili.com</code>,则为:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;; ANSWER SECTION:</span><br><span class="line">bilibili.com.		<span class="number">61</span>	IN	A	<span class="number">120.92</span><span class="number">.174</span><span class="number">.135</span></span><br><span class="line">bilibili.com.		<span class="number">61</span>	IN	A	<span class="number">110.43</span><span class="number">.34</span><span class="number">.66</span></span><br><span class="line">bilibili.com.		<span class="number">61</span>	IN	A	<span class="number">119.3</span><span class="number">.238</span><span class="number">.64</span></span><br></pre></td></tr></table></figure>
<p>有三个A记录</p>
<br>
<h4 id="font-color-orange-第四段显示dashen-tech的NS记录-font"><a class="header-anchor" href="#font-color-orange-第四段显示dashen-tech的NS记录-font">¶</a><font color="orange">第四段显示dashen.tech的NS记录 </font></h4>
<p>NS是 Name Server的缩写，即哪些服务器负责管理dashen.tech的DNS记录。</p>
<p><strong>最新的dig命令，没有了第四段，第五段的信息</strong></p>
<br>
<h4 id="font-color-orange-第五段是上面四个域名服务器的IP地址-font"><a class="header-anchor" href="#font-color-orange-第五段是上面四个域名服务器的IP地址-font">¶</a><font color="orange">第五段是上面四个域名服务器的IP地址 </font></h4>
<p><strong>最新的dig命令，没有了第四段，第五段的信息</strong></p>
<br>
<h4 id="font-color-orange-第六段是DNS服务器的一些传输信息-font"><a class="header-anchor" href="#font-color-orange-第六段是DNS服务器的一些传输信息-font">¶</a><font color="orange">第六段是DNS服务器的一些传输信息 </font></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;; Query time: <span class="number">370</span> msec</span><br><span class="line">;; SERVER: <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>#<span class="number">53</span>(<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">11</span>:<span class="number">50</span>:<span class="number">50</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">45</span></span><br></pre></td></tr></table></figure>
<p>本机的DNS服务器是114.114.114.114，查询端口是53（DNS服务器的默认端口），以及回应长度是45字节</p>
<hr>
<br>
<h3 id="DNS服务器"><a class="header-anchor" href="#DNS服务器">¶</a>DNS服务器</h3>
<br>
<p>本机一定要知道DNS服务器的IP地址。通过DNS服务器，才能知道某个域名的IP地址到底是什么。</p>
<p>DNS服务器的IP地址，可能是动态的，每次上网时由网关分配，这叫做<code>DHCP机制</code>；也有可能是事先指定的固定地址。</p>
<img src="/2016/10/11/使用dig理解DNS/2.png" width="100%" height="100%">
<br>
<p>（Linux系统里中，DNS服务器的IP地址保存在/etc/resolv.conf文件）</p>
<img src="/2016/10/11/使用dig理解DNS/1.png" width="100%" height="100%">
<p>DNS服务器可以用内网地址，也可以用公网的DNS服务器，如Google的8.8.8.8</p>
<font size="1">
<p>本机只向自己的DNS服务器查询，dig命令有一个@参数，显示向其他DNS服务器查询的结果:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">dig @<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span> dashen.tech           </span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; @<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span> dashen.tech</span><br><span class="line">; (<span class="number">1</span> server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">36114</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">1</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: <span class="number">0</span>, flags:; udp: <span class="number">512</span></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;dashen.tech.			IN	A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">dashen.tech.		<span class="number">600</span>	IN	A	<span class="number">118.126</span><span class="number">.97</span><span class="number">.71</span></span><br><span class="line"></span><br><span class="line">;; Query time: <span class="number">85</span> msec</span><br><span class="line">;; SERVER: <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span>#<span class="number">53</span>(<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">13</span>:<span class="number">56</span>:<span class="number">17</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">56</span></span><br></pre></td></tr></table></figure>
</font>
<br>
<h3 id="域名的层级"><a class="header-anchor" href="#域名的层级">¶</a>域名的层级</h3>
<br>
<p>DNS服务器怎么会知道每个域名的IP地址呢？答案是分级查询</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;; QUESTION SECTION:</span><br><span class="line">;dashen.tech.			IN	A</span><br></pre></td></tr></table></figure>
<p>每个域名的尾部都多了一个点, 这不是疏忽，而是所有域名的尾部，实际上都有一个根域名。</p>
<p>即真正的域名为 dashen.tech.root，简写为<code>dashen.tech.</code> 。因为根域名.root对于所有域名都是一样的，所以可以省略</p>
<p>根域名的下一级，叫做&quot;顶级域名&quot;（top-level domain，TLD），比如<code>.com</code>、<code>.net</code>、<code>.tech</code>；</p>
<p>再下一级叫做&quot;次级域名&quot;（second-level domain，SLD），<code>dashen.tech</code>里面的<code>.dashen</code>，这一级域名是用户可以注册的；</p>
<p>再下一级是主机名（host），比如<code>n.dashen.tech</code>里面的<code>n</code>，又称为&quot;三级域名&quot;，这是用户在自己的域里面为服务器分配的名称，是用户可以任意分配的</p>
<p>即</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">主机名.次级域名.顶级域名.根域名</span><br><span class="line"></span><br><span class="line">n.dashen.tech.root</span><br></pre></td></tr></table></figure>
<br>
<h3 id="根域名服务器"><a class="header-anchor" href="#根域名服务器">¶</a>根域名服务器</h3>
<br>
<p>DNS服务器根据域名的层级，进行分级查询</p>
<p>每一级域名都有自己的NS记录，NS记录指向该级域名的域名服务器。这些服务器知道下一级域名的各种记录。</p>
<p>(有点像网络的分层结构)</p>
<p>所谓&quot;分级查询&quot;，就是从根域名开始，依次查询每一级域名的NS记录，直到查到最终的IP地址，过程大致如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">从<span class="string">"根域名服务器"</span>查到<span class="string">"顶级域名服务器"</span>的NS记录和A记录（IP地址）</span><br><span class="line">从<span class="string">"顶级域名服务器"</span>查到<span class="string">"次级域名服务器"</span>的NS记录和A记录（IP地址）</span><br><span class="line">从<span class="string">"次级域名服务器"</span>查出<span class="string">"主机名"</span>的IP地址</span><br></pre></td></tr></table></figure>
<p>DNS服务器怎么知道&quot;根域名服务器&quot;的IP地址?</p>
<p>因为 &quot;根域名服务器&quot;的NS记录和IP地址一般是不会变化的，所以内置在DNS服务器里面</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">;       This file holds the information on root name servers needed to</span><br><span class="line">;       initialize cache of Internet domain name servers</span><br><span class="line">;       (e.g. reference this file in the <span class="string">"cache  .  "</span></span><br><span class="line">;       configuration file of BIND domain name servers).</span><br><span class="line">;</span><br><span class="line">;       This file is made available by InterNIC </span><br><span class="line">;       under anonymous FTP as</span><br><span class="line">;           file                /domain/db.cache</span><br><span class="line">;           on server           FTP.INTERNIC.NET</span><br><span class="line">;       -OR-                    RS.INTERNIC.NET</span><br><span class="line">;</span><br><span class="line">;       last update:    Feb <span class="number">04</span>, <span class="number">2008</span></span><br><span class="line">;       related version of root zone:   <span class="number">2008020400</span></span><br><span class="line">;</span><br><span class="line">; formerly NS.INTERNIC.NET</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>  IN  NS    A.ROOT-SERVERS.NET.</span><br><span class="line">A.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">198.41</span><span class="number">.0</span><span class="number">.4</span></span><br><span class="line">A.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:<span class="number">503</span>:BA3E::<span class="number">2</span>:<span class="number">30</span></span><br><span class="line">;</span><br><span class="line">; formerly NS1.ISI.EDU</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    B.ROOT-SERVERS.NET.</span><br><span class="line">B.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.228</span><span class="number">.79</span><span class="number">.201</span></span><br><span class="line">;</span><br><span class="line">; formerly C.PSI.NET</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    C.ROOT-SERVERS.NET.</span><br><span class="line">C.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.33</span><span class="number">.4</span><span class="number">.12</span></span><br><span class="line">;</span><br><span class="line">; formerly TERP.UMD.EDU</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    D.ROOT-SERVERS.NET.</span><br><span class="line">D.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">128.8</span><span class="number">.10</span><span class="number">.90</span></span><br><span class="line">;</span><br><span class="line">; formerly NS.NASA.GOV</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    E.ROOT-SERVERS.NET.</span><br><span class="line">E.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.203</span><span class="number">.230</span><span class="number">.10</span></span><br><span class="line">;</span><br><span class="line">; formerly NS.ISC.ORG</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    F.ROOT-SERVERS.NET.</span><br><span class="line">F.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.5</span><span class="number">.5</span><span class="number">.241</span></span><br><span class="line">F.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:<span class="number">500</span>:<span class="number">2</span>f::f</span><br><span class="line">;</span><br><span class="line">; formerly NS.NIC.DDN.MIL</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    G.ROOT-SERVERS.NET.</span><br><span class="line">G.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.112</span><span class="number">.36</span><span class="number">.4</span></span><br><span class="line">;</span><br><span class="line">; formerly AOS.ARL.ARMY.MIL</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    H.ROOT-SERVERS.NET.</span><br><span class="line">H.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">128.63</span><span class="number">.2</span><span class="number">.53</span></span><br><span class="line">H.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:<span class="number">500</span>:<span class="number">1</span>::<span class="number">803</span>f:<span class="number">235</span></span><br><span class="line">;</span><br><span class="line">; formerly NIC.NORDU.NET</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    I.ROOT-SERVERS.NET.</span><br><span class="line">I.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.36</span><span class="number">.148</span><span class="number">.17</span></span><br><span class="line">;</span><br><span class="line">; operated by VeriSign, Inc.</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    J.ROOT-SERVERS.NET.</span><br><span class="line">J.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">192.58</span><span class="number">.128</span><span class="number">.30</span></span><br><span class="line">J.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:<span class="number">503</span>:C27::<span class="number">2</span>:<span class="number">30</span></span><br><span class="line">;</span><br><span class="line">; operated by RIPE NCC</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    K.ROOT-SERVERS.NET.</span><br><span class="line">K.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">193.0</span><span class="number">.14</span><span class="number">.129</span> </span><br><span class="line">K.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:<span class="number">7</span>fd::<span class="number">1</span></span><br><span class="line">;</span><br><span class="line">; operated by ICANN</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    L.ROOT-SERVERS.NET.</span><br><span class="line">L.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">199.7</span><span class="number">.83</span><span class="number">.42</span></span><br><span class="line">;</span><br><span class="line">; operated by WIDE</span><br><span class="line">;</span><br><span class="line">.                        <span class="number">3600000</span>      NS    M.ROOT-SERVERS.NET.</span><br><span class="line">M.ROOT-SERVERS.NET.      <span class="number">3600000</span>      A     <span class="number">202.12</span><span class="number">.27</span><span class="number">.33</span></span><br><span class="line">M.ROOT-SERVERS.NET.      <span class="number">3600000</span>      AAAA  <span class="number">2001</span>:dc3::<span class="number">35</span></span><br><span class="line">; End of File</span><br></pre></td></tr></table></figure>
<p>上面列表中 列出了根域名（.root）<a href="http://xn--NSA-uj3fu2k97itj3a8r1b.ROOT-SERVERS.NET" target="_blank" rel="noopener">的所有NS记录A.ROOT-SERVERS.NET</a>、<a href="http://B.ROOT-SERVERS.xn--NETC-221g.ROOT-SERVERS.NET" target="_blank" rel="noopener">B.ROOT-SERVERS.NET和C.ROOT-SERVERS.NET</a> … <a href="http://M.ROOT-SERVERS.NET" target="_blank" rel="noopener">M.ROOT-SERVERS.NET</a>，以及它们的IP地址（即A记录）</p>
<p>所有记录的TTL值是3600000秒，相当于1000小时。即每1000小时才查询一次根域名服务器的列表。</p>
<p>世界上一共有十三组根域名服务器，<a href="http://xn--A-rz6a.ROOT-SERVERS.xn--NETM-n84fx5tnk6e.ROOT-SERVERS.NET" target="_blank" rel="noopener">从A.ROOT-SERVERS.NET一直到M.ROOT-SERVERS.NET</a>。</p>
<p>至于为何只有13台，而不是更多，可参考 <a href="https://blog.51cto.com/u_15127549/2660762" target="_blank" rel="noopener">DNS为什么查询根域名服务器只返回13个IP地址</a>,主要原因是<code>DNS包传输限制</code>和<code>DNS中UDP和TCP传输</code></p>
<br>
<h3 id="分级查询的实例"><a class="header-anchor" href="#分级查询的实例">¶</a>分级查询的实例</h3>
<br>
<p>使用 <strong>dig +trace dashen.tech</strong> 可以显示DNS的整个分级查询过程:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; +trace dashen.tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	m.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	g.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	b.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	k.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	d.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	h.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	f.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	j.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	l.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	e.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	i.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	a.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	c.root-servers.net.</span><br><span class="line">;; Received <span class="number">239</span> bytes from <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>#<span class="number">53</span>(<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>) in <span class="number">16</span> ms</span><br><span class="line"></span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	e.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	b.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	a.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	f.nic.tech.</span><br><span class="line">tech.			<span class="number">86400</span>	IN	DS	<span class="number">50095</span> <span class="number">8</span> <span class="number">2</span> <span class="number">83</span>F40D01141484D8F07305E5D2E44AC5663149054C598D6E9D993C66 <span class="number">1686</span>C6EE</span><br><span class="line">tech.			<span class="number">86400</span>	IN	DS	<span class="number">50095</span> <span class="number">8</span> <span class="number">1</span> <span class="number">82</span>F72F2462DEE25B99DA2470535AD0A7D131F1EB</span><br><span class="line">tech.			<span class="number">86400</span>	IN	RRSIG	DS <span class="number">8</span> <span class="number">1</span> <span class="number">86400</span> <span class="number">20161023170000</span> <span class="number">20161010160000</span> <span class="number">14748</span> . PoK6fDMO8T0AKyvodBWRAZK7Vo7Pl31PWefgfZma7TQLUPCxaxaLKZCJ D7EfmByB1f3nRWriGTlaLjiO6fKBoOePaNG0kL651fRTTfytDyjW6kXg e698gva7IzR9eocUV5FSu+bXZrKt6Hfxtmg1gSJU4MvIVGU0jPiI/GKc <span class="number">52</span>N6oc4r8kGN2Ca6HCT8bAL+bLvwTvqahYwsc43ixI+<span class="number">7</span>JOpBYhw7te/B w0LhLjNP38ZSVnHiJzf3mwAGoF/Q9ub6mcruqC8Osp51J9gL60xvxai0 y/TgDLN66b8gsl2Z+<span class="number">62</span>x7ViICnmxeqlwvDru3OtYmSlVx4JPp5onW9Bm <span class="number">0</span>kb/gw==</span><br><span class="line">;; Received <span class="number">655</span> bytes from <span class="number">192.112</span><span class="number">.36</span><span class="number">.4</span>#<span class="number">53</span>(g.root-servers.net) in <span class="number">89</span> ms</span><br><span class="line"></span><br><span class="line">dashen.tech.		<span class="number">3600</span>	IN	NS	dns9.hichina.com.</span><br><span class="line">dashen.tech.		<span class="number">3600</span>	IN	NS	dns10.hichina.com.</span><br><span class="line"><span class="number">9</span>btf69hmd3n6368rdfnvtq09vgqbb2th.tech. <span class="number">3600</span> IN NSEC3 <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> - <span class="number">9</span>C0LP1P9G6FET7L79F0CMUGIH2GB7GUG  NS SOA RRSIG DNSKEY NSEC3PARAM</span><br><span class="line"><span class="number">9</span>btf69hmd3n6368rdfnvtq09vgqbb2th.tech. <span class="number">3600</span> IN RRSIG NSEC3 <span class="number">8</span> <span class="number">2</span> <span class="number">3600</span> <span class="number">20161105153518</span> <span class="number">20161006082354</span> <span class="number">50883</span> tech. iCObjft9FYbJ1bUd08w9wx4NR/IOnYMgc8HdRKue2iX1OdLPEfuSEHvV qo00oNOKBg4Vwkd/gh6zyCGzErS0jukA0Wooske8Ws1qHI7iLqvlAh05 OJUubLRW4WCeuVfBqLALtoqaGZCF5m0qqgWKzZKwh/QEQNK3rdZlAzbK <span class="number">2</span>rQ=</span><br><span class="line">mesb2ou9l8il9h8n68m004d8e28iuq1h.tech. <span class="number">3600</span> IN NSEC3 <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> - MF0J2KO8MFRQD8VU89VHKFOBC9DISRCU  NS DS RRSIG</span><br><span class="line">mesb2ou9l8il9h8n68m004d8e28iuq1h.tech. <span class="number">3600</span> IN RRSIG NSEC3 <span class="number">8</span> <span class="number">2</span> <span class="number">3600</span> <span class="number">20161105050614</span> <span class="number">20161006082354</span> <span class="number">50883</span> tech. jYVanLMWDECIyolSk9UdCWiQZN4Hlr/Lh8dozO00+Yz6dHWGcUVaGrEl vTmZw1nU28iy/f2b7bUHvMFlOkqLRHTmzkw30YiQFxLULzeBEz22QSD/ AMrZBrNolEOkxZ9dZerRZZc80qLB1l0/LHbSNX4VENTbwwDVU8AXH+wu MW0=</span><br><span class="line">;; Received <span class="number">577</span> bytes from <span class="number">212.18</span><span class="number">.248</span><span class="number">.60</span>#<span class="number">53</span>(e.nic.tech) in <span class="number">243</span> ms</span><br><span class="line"></span><br><span class="line">dashen.tech.		<span class="number">600</span>	IN	A	<span class="number">118.126</span><span class="number">.97</span><span class="number">.71</span></span><br><span class="line">;; Received <span class="number">56</span> bytes from <span class="number">106.11</span><span class="number">.141</span><span class="number">.125</span>#<span class="number">53</span>(dns9.hichina.com) in <span class="number">38</span> ms</span><br></pre></td></tr></table></figure>
<br>
<p><strong>第一段</strong> 列出根域名.的所有NS记录，即所有根域名服务器:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span>.<span class="number">6</span> &lt;&lt;&gt;&gt; +trace dashen.tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	m.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	g.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	b.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	k.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	d.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	h.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	f.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	j.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	l.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	e.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	i.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	a.root-servers.net.</span><br><span class="line">.			<span class="number">1572</span>	IN	NS	c.root-servers.net.</span><br><span class="line">;; Received <span class="number">239</span> bytes from <span class="number">114.114</span>.<span class="number">114.114</span>#<span class="number">53</span>(<span class="number">114.114</span>.<span class="number">114.114</span>) <span class="keyword">in</span> <span class="number">16</span> ms</span><br></pre></td></tr></table></figure>
<br>
<p>根据内置的根域名服务器IP地址，DNS服务器向<strong>所有这些IP地址</strong>发出查询请求，询问<code>dashen.tech</code> 的顶级域名服务器<code>tech.</code>的NS记录。最先回复的根域名服务器将被缓存，以后只向这台服务器发请求。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tech.			<span class="number">172800</span>	IN	NS	e.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	b.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	a.nic.tech.</span><br><span class="line">tech.			<span class="number">172800</span>	IN	NS	f.nic.tech.</span><br></pre></td></tr></table></figure>
<p>上面结果显示<code>.tech</code>域名的4条NS记录，同时返回的还有每一条记录对应的IP地址。</p>
<br>
<p>然后，DNS服务器向这些顶级域名服务器发出查询请求，询问<code>dashen.tech</code>的次级域名<code>dashen.tech</code>的NS记录:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dashen.tech.		<span class="number">3600</span>	IN	NS	dns9.hichina.com.</span><br><span class="line">dashen.tech.		<span class="number">3600</span>	IN	NS	dns10.hichina.com.</span><br></pre></td></tr></table></figure>
<p>上面结果显示<code>dashen.tech</code>有四条NS记录，同时返回的还有每一条NS记录对应的IP地址。</p>
<br>
<p>然后，DNS服务器向上面这四台NS服务器查询<code>.dashen.tech</code>的主机名</p>
<p>（此处<code>.dashen.tech</code>和<code>n.dashen.tech</code>等效）</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dashen.tech.		<span class="number">600</span>	IN	A	<span class="number">118.126</span>.<span class="number">97.71</span></span><br><span class="line">;; Received <span class="number">56</span> bytes from <span class="number">106.11</span>.<span class="number">141.125</span>#<span class="number">53</span>(dns9.hichina.com) <span class="keyword">in</span> <span class="number">38</span> ms</span><br></pre></td></tr></table></figure>
<p>上面结果显示，<code>dashen.tech</code>有`条A记录，即这四个IP地址都可以访问到网站。</p>
<p>并且还显示，最先返回结果的NS服务器是<code>dns9.hichina.com</code>，IP地址为106.11.141.125</p>
<br>
<h3 id="NS-记录的查询"><a class="header-anchor" href="#NS-记录的查询">¶</a>NS 记录的查询</h3>
<br>
<p>dig命令可以单独查看每一级域名的NS记录:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ dig ns tech                      </span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; ns tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">6506</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">5</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;tech.				IN	NS</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">tech.			<span class="number">488</span>	IN	NS	b.nic.tech.</span><br><span class="line">tech.			<span class="number">488</span>	IN	NS	e.nic.tech.</span><br><span class="line">tech.			<span class="number">488</span>	IN	NS	a.nic.tech.</span><br><span class="line">tech.			<span class="number">488</span>	IN	NS	g.nic.tech.</span><br><span class="line">tech.			<span class="number">488</span>	IN	NS	f.nic.tech.</span><br><span class="line"></span><br><span class="line">;; Query time: <span class="number">295</span> msec</span><br><span class="line">;; SERVER: <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>#<span class="number">53</span>(<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">14</span>:<span class="number">44</span>:<span class="number">06</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">106</span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> dig ns dashen.tech</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; ns dashen.tech</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">15949</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">2</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;dashen.tech.			IN	NS</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">dashen.tech.		<span class="number">1399</span>	IN	NS	dns9.hichina.com.</span><br><span class="line">dashen.tech.		<span class="number">1399</span>	IN	NS	dns10.hichina.com.</span><br><span class="line"></span><br><span class="line">;; Query time: <span class="number">47</span> msec</span><br><span class="line">;; SERVER: <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>#<span class="number">53</span>(<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">14</span>:<span class="number">44</span>:<span class="number">15</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">79</span></span><br></pre></td></tr></table></figure>
<br>
<h3 id="DNS的记录类型"><a class="header-anchor" href="#DNS的记录类型">¶</a>DNS的记录类型</h3>
<br>
<p>域名与IP之间的对应关系，称为&quot;记录&quot;（record）。</p>
<p>根据使用场景，&quot;记录&quot;可以分成不同的类型（type），如前面的A记录和NS记录</p>
<p>常见的DNS记录类型如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>） A：地址记录（Address），返回域名指向的IP地址。</span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>） NS：域名服务器记录（Name Server），返回保存下一级域名信息的服务器地址。该记录只能设置为域名，不能设置为IP地址。</span><br><span class="line"></span><br><span class="line">（<span class="number">3</span>）MX：邮件记录（Mail eXchange），返回接收电子邮件的服务器地址。</span><br><span class="line"></span><br><span class="line">（<span class="number">4</span>）CNAME：规范名称记录（Canonical Name），返回另一个域名，即当前查询的域名是另一个域名的跳转，详见下文。</span><br><span class="line"></span><br><span class="line">（<span class="number">5</span>）PTR：逆向查询记录（Pointer Record），只用于从IP地址查询域名，详见下文。</span><br></pre></td></tr></table></figure>
<p>一般来说，为了服务的安全可靠，至少该有两条NS记录，而A记录和MX记录也可以有多条，这样就提供了服务的冗余性，防止出现单点故障。</p>
<br>
<p><strong>CNAME记录</strong>主要用于域名的内部跳转，为服务器配置提供灵活性，用户感知不到。</p>
<font size="1">
由于CNAME记录就是一个替换，所以域名一旦设置CNAME记录以后，就不能再设置其他记录了（比如A记录和MX记录），这是为了防止产生冲突。举例来说，foo.com指向bar.com，而两个域名各有自己的MX记录，如果两者不一致，就会产生问题。由于顶级域名通常要设置MX记录，所以一般不允许用户对顶级域名设置CNAME记录。
</font>
<br>
<p><strong>PTR记录</strong>用于从IP地址反查域名。dig命令的-x参数用于查询PTR记录:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ dig -x <span class="number">192.30</span><span class="number">.252</span><span class="number">.153</span></span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG <span class="number">9.10</span><span class="number">.6</span> &lt;&lt;&gt;&gt; -x <span class="number">192.30</span><span class="number">.252</span><span class="number">.153</span></span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: <span class="number">56184</span></span><br><span class="line">;; flags: qr rd ra; QUERY: <span class="number">1</span>, ANSWER: <span class="number">1</span>, AUTHORITY: <span class="number">0</span>, ADDITIONAL: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;<span class="number">153.252</span><span class="number">.30</span><span class="number">.192</span>.in-addr.arpa.	IN	PTR</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line"><span class="number">153.252</span><span class="number">.30</span><span class="number">.192</span>.in-addr.arpa. <span class="number">3600</span> IN	PTR	lb<span class="number">-192</span><span class="number">-30</span><span class="number">-252</span><span class="number">-153</span>-iad.github.com.</span><br><span class="line"></span><br><span class="line">;; Query time: <span class="number">48</span> msec</span><br><span class="line">;; SERVER: <span class="number">223.5</span><span class="number">.5</span><span class="number">.5</span>#<span class="number">53</span>(<span class="number">223.5</span><span class="number">.5</span><span class="number">.5</span>)</span><br><span class="line">;; WHEN: Mon Oct <span class="number">11</span> <span class="number">15</span>:<span class="number">15</span>:<span class="number">40</span> CST <span class="number">2016</span></span><br><span class="line">;; MSG SIZE  rcvd: <span class="number">91</span></span><br></pre></td></tr></table></figure>
<p>上面结果显示，<a href="http://192.30.252.xn--153lb-192-30-252-153-iad-7c34b31rowat14cz5jvi2irvfz52lky8h.github.com" target="_blank" rel="noopener">192.30.252.153这台服务器的域名是lb-192-30-252-153-iad.github.com</a>。</p>
<p>逆向查询的一个应用，可以防止垃圾邮件，即验证发送邮件的IP地址，是否真的有它所声称的域名</p>
<br>
<p>dig命令可以查看指定的记录类型:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dig a dashen.tech</span><br><span class="line">dig ns dashen.tech</span><br><span class="line">dig mx dashen.tech</span><br></pre></td></tr></table></figure>
<img src="/2016/10/11/使用dig理解DNS/3.png" width="80%" height="100%">
<br>
<h3 id="其他DNS工具"><a class="header-anchor" href="#其他DNS工具">¶</a>其他DNS工具</h3>
<br>
<p>whois命令可用来查看域名的注册情况:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"> whois dashen.tech</span><br><span class="line">% IANA WHOIS server</span><br><span class="line">% <span class="keyword">for</span> more information on IANA, visit http:<span class="comment">//www.iana.org</span></span><br><span class="line">% This query returned <span class="number">1</span> object</span><br><span class="line"></span><br><span class="line">refer:        whois.nic.tech</span><br><span class="line"></span><br><span class="line">domain:       TECH</span><br><span class="line"></span><br><span class="line">organisation: Radix FZC</span><br><span class="line">address:      Directiplex</span><br><span class="line">address:      Next to Andheri Subway</span><br><span class="line">address:      Old Nagardas Road, Andheri (East)</span><br><span class="line">address:      Mumbai - <span class="number">400069</span></span><br><span class="line">address:      India</span><br><span class="line"></span><br><span class="line">contact:      administrative</span><br><span class="line">name:         Director</span><br><span class="line">organisation: Radix FZC</span><br><span class="line">address:      Directiplex</span><br><span class="line">address:      Next to Andheri Subway</span><br><span class="line">address:      Old Nagardas Road, Andheri (East)</span><br><span class="line">address:      Mumbai - <span class="number">400069</span></span><br><span class="line">address:      India</span><br><span class="line">phone:        +<span class="number">1.4154494774</span></span><br><span class="line">fax-no:       +<span class="number">91.2230797508</span></span><br><span class="line">e-mail:       admin@radixregistry.com</span><br><span class="line"></span><br><span class="line">contact:      technical</span><br><span class="line">name:         CTO</span><br><span class="line">organisation: CentralNic</span><br><span class="line">address:      Saddlers House, <span class="number">4</span>th Floor</span><br><span class="line">address:      <span class="number">44</span> Gutter Lane</span><br><span class="line">address:      London EC2V <span class="number">6</span>BR</span><br><span class="line">address:      United Kingdom</span><br><span class="line">phone:        +<span class="number">44.2033880600</span></span><br><span class="line">fax-no:       +<span class="number">44.2033880601</span></span><br><span class="line">e-mail:       tld.ops@centralnic.com</span><br><span class="line"></span><br><span class="line">nserver:      A.NIC.TECH <span class="number">194.169</span><span class="number">.218</span><span class="number">.60</span> <span class="number">2001</span>:<span class="number">67</span>c:<span class="number">13</span>cc:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">1</span>:<span class="number">60</span></span><br><span class="line">nserver:      B.NIC.TECH <span class="number">185.24</span><span class="number">.64</span><span class="number">.60</span> <span class="number">2</span>a04:<span class="number">2</span>b00:<span class="number">13</span>cc:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">1</span>:<span class="number">60</span></span><br><span class="line">nserver:      E.NIC.TECH <span class="number">212.18</span><span class="number">.248</span><span class="number">.60</span> <span class="number">2</span>a04:<span class="number">2</span>b00:<span class="number">13</span>ee:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">60</span></span><br><span class="line">nserver:      F.NIC.TECH <span class="number">212.18</span><span class="number">.249</span><span class="number">.60</span> <span class="number">2</span>a04:<span class="number">2</span>b00:<span class="number">13</span>ff:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">60</span></span><br><span class="line">ds-rdata:     <span class="number">50095</span> <span class="number">8</span> <span class="number">1</span> <span class="number">82</span>F72F2462DEE25B99DA2470535AD0A7D131F1EB</span><br><span class="line">ds-rdata:     <span class="number">50095</span> <span class="number">8</span> <span class="number">2</span> <span class="number">83</span>F40D01141484D8F07305E5D2E44AC5663149054C598D6E9D993C661686C6EE</span><br><span class="line"></span><br><span class="line">whois:        whois.nic.tech</span><br><span class="line"></span><br><span class="line">status:       ACTIVE</span><br><span class="line">remarks:      Registration information: http:<span class="comment">//www.radix.website</span></span><br><span class="line"></span><br><span class="line">created:      <span class="number">2015</span><span class="number">-03</span><span class="number">-12</span></span><br><span class="line">changed:      <span class="number">2016</span><span class="number">-08</span><span class="number">-26</span></span><br><span class="line">source:       IANA</span><br><span class="line"></span><br><span class="line"># whois.nic.tech</span><br><span class="line"></span><br><span class="line">Domain Name: DASHEN.TECH</span><br><span class="line">Registry Domain ID: D12780260-CNIC</span><br><span class="line">Registrar WHOIS Server: grs-whois.hichina.com</span><br><span class="line">Registrar URL:</span><br><span class="line">Updated Date: <span class="number">2019</span><span class="number">-11</span><span class="number">-07</span>T06:<span class="number">57</span>:<span class="number">51.0</span>Z</span><br><span class="line">Creation Date: <span class="number">2015</span><span class="number">-11</span><span class="number">-13</span>T09:<span class="number">27</span>:<span class="number">03.0</span>Z</span><br><span class="line">Registry Expiry Date: <span class="number">2025</span><span class="number">-11</span><span class="number">-13</span>T23:<span class="number">59</span>:<span class="number">59.0</span>Z</span><br><span class="line">Registrar: Alibaba Cloud Computing Ltd. d/b/a HiChina (www.net.cn)</span><br><span class="line">Registrar IANA ID: <span class="number">1599</span></span><br><span class="line">Domain Status: ok https:<span class="comment">//icann.org/epp#ok</span></span><br><span class="line">Registrant Organization: Cui Shuang</span><br><span class="line">Registrant State/Province: Shan Dong</span><br><span class="line">Registrant Country: CN</span><br><span class="line">Registrant Email: Please query the RDDS service of the Registrar of Record identified in this output <span class="keyword">for</span> information on how to contact the Registrant, Admin, or Tech contact of the queried domain name.</span><br><span class="line">Admin Email: Please query the RDDS service of the Registrar of Record identified in this output <span class="keyword">for</span> information on how to contact the Registrant, Admin, or Tech contact of the queried domain name.</span><br><span class="line">Tech Email: Please query the RDDS service of the Registrar of Record identified in this output <span class="keyword">for</span> information on how to contact the Registrant, Admin, or Tech contact of the queried domain name.</span><br><span class="line">Name Server: DNS9.HICHINA.COM</span><br><span class="line">Name Server: DNS10.HICHINA.COM</span><br><span class="line">DNSSEC: unsigned</span><br><span class="line">Billing Email: Please query the RDDS service of the Registrar of Record identified in this output <span class="keyword">for</span> information on how to contact the Registrant, Admin, or Tech contact of the queried domain name.</span><br><span class="line">Registrar Abuse Contact Email: domainabuse@service.aliyun.com</span><br><span class="line">Registrar Abuse Contact Phone: +<span class="number">86.95187</span></span><br><span class="line">URL of the ICANN Whois Inaccuracy Complaint Form: https:<span class="comment">//www.icann.org/wicf/</span></span><br><span class="line">&gt;&gt;&gt; Last update of WHOIS database:<span class="number">16</span><span class="number">-10</span><span class="number">-11</span>T07:<span class="number">19</span>:<span class="number">23.0</span>Z &lt;&lt;&lt;</span><br><span class="line"></span><br><span class="line"># grs-whois.hichina.com</span><br><span class="line"></span><br><span class="line">Allow only queries : com,net,cc,tv</span><br></pre></td></tr></table></figure>
<br>
<p><a href="https://www.ruanyifeng.com/blog/2018/05/root-domain.html" target="_blank" rel="noopener">阮一峰-根域名的知识</a></p>
<!--爽哥为赞赏功能新加--></div><!--script(type='text/javascript', src=url_for(theme.js) + '/jquery.js' + '?v=' + theme.version, async)--><script type="text/javascript" src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>BTC Address:3NNxkM6ez7szsUAgTnK2VaF949LoGmXuBs<br></div></div><div id="donate_guide" class="donate_bar center hidden pay"><img src="http://cuishuang.gitee.io/img/weChatMoney.png" title="微信打赏" alt="微信打赏"><img src="http://cuishuang.gitee.io/img/alipayMoney.png" title="支付宝打赏" alt="支付宝打赏"><img src="http://cuishuang.gitee.io/img/btc.png" title="比特币打赏" alt="比特币打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><!-- google adsense--><!--if theme.show_ad_post == true--><!--    script(async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")--><!--    ins.adsbygoogle(style="display:block" data-ad-client="ca-pub-1181798273731653" data-ad-format="auto")--><!--    script (adsbygoogle = window.adsbygoogle || []).push({});-->
<div class="post-copyright"><blockquote><p>原文作者: fliter</p><p>原文链接: </p><a href="http://www.dashen.tech/2016/10/11/使用dig理解DNS/">http://www.dashen.tech/2016/10/11/使用dig理解DNS/</a><p>版权声明: 转载请注明出处</p></blockquote></div><div class="tags"><a href="/tags/TCP-IP/">TCP/IP</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2016/10/23/西甲第9场-瓦伦西亚vs巴塞罗那/" class="pre">西甲第9场,瓦伦西亚vs巴塞罗那</a><a href="/2016/10/11/浅析Chromium源码之获取和编译/" class="next">浅析Chromium源码之获取和编译</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#查询过程"><span class="toc-text">¶查询过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第一段是查询参数和统计-font"><span class="toc-text">¶第一段是查询参数和统计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第二段是查询内容-font"><span class="toc-text">¶第二段是查询内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第三段是DNS服务器的答复-font"><span class="toc-text">¶第三段是DNS服务器的答复 </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第四段显示dashen-tech的NS记录-font"><span class="toc-text">¶第四段显示dashen.tech的NS记录 </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第五段是上面四个域名服务器的IP地址-font"><span class="toc-text">¶第五段是上面四个域名服务器的IP地址 </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#font-color-orange-第六段是DNS服务器的一些传输信息-font"><span class="toc-text">¶第六段是DNS服务器的一些传输信息 </span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS服务器"><span class="toc-text">¶DNS服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#域名的层级"><span class="toc-text">¶域名的层级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#根域名服务器"><span class="toc-text">¶根域名服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分级查询的实例"><span class="toc-text">¶分级查询的实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NS-记录的查询"><span class="toc-text">¶NS 记录的查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS的记录类型"><span class="toc-text">¶DNS的记录类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他DNS工具"><span class="toc-text">¶其他DNS工具</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/11/09/关于零号协程/">关于零号协程</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/08/代码搜索技巧/">代码搜索技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/25/SubQuery入门指南II/">SubQuery入门指南II</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/25/SubQuery入门指南/">SubQuery入门指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/19/搭建substrate开发环境/">搭建substrate开发环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/18/使用Selenium获取网站信息/">使用Selenium获取网站信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/15/Rust-vs-Go-常用语法对比-13/">Rust vs Go:常用语法对比(13)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/13/Rust-vs-Go-常用语法对比-12/">Rust vs Go:常用语法对比(12)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/12/Rust-vs-Go-常用语法对比-11/">Rust vs Go:常用语法对比(11)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/11/Rust-vs-Go-常用语法对比-10/">Rust vs Go:常用语法对比(10)</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-weixin"> 扫码关注-旅途散记</i></div><img width="100%" height="233" title="微信扫一扫" src="https://cuishuang.gitee.io/img/lvtusanji.jpg"></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tree/">Tree</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/runtime/">runtime</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sync/">sync</a><span class="category-list-count">12</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/操作系统/" style="font-size: 15px;">操作系统</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Pearl/" style="font-size: 15px;">Pearl</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/Todo/" style="font-size: 15px;">Todo</a> <a href="/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/tags/译海一粟/" style="font-size: 15px;">译海一粟</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/Go/" style="font-size: 15px;">Go</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/Compiler/" style="font-size: 15px;">Compiler</a> <a href="/tags/密码学/" style="font-size: 15px;">密码学</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/Interview/" style="font-size: 15px;">Interview</a> <a href="/tags/杂谈/" style="font-size: 15px;">杂谈</a> <a href="/tags/金庸/" style="font-size: 15px;">金庸</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/数学/" style="font-size: 15px;">数学</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/Rust/" style="font-size: 15px;">Rust</a> <a href="/tags/explore/" style="font-size: 15px;">explore</a> <a href="/tags/书摘-影评/" style="font-size: 15px;">书摘/影评</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/足球-体育/" style="font-size: 15px;">足球&体育</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/星陨/" style="font-size: 15px;">星陨</a> <a href="/tags/读城记/" style="font-size: 15px;">读城记</a> <a href="/tags/奇文共赏/" style="font-size: 15px;">奇文共赏</a> <a href="/tags/区域经济/" style="font-size: 15px;">区域经济</a> <a href="/tags/数据结构，Todo/" style="font-size: 15px;">数据结构，Todo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1093/02/">二月 1093</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://leetcode.com/" title="LeetCode" target="_blank">LeetCode</a><ul></ul><a href="https://golang.org/" title="Go官网" target="_blank">Go官网</a><ul></ul><a href="https://tonybai.com/" title="TonyBai" target="_blank">TonyBai</a><ul></ul><a href="http://lietoumai.com/" title="顾问麦的小站" target="_blank">顾问麦的小站</a><ul></ul><a href="https://www.coolshell.cn/" title="酷壳" target="_blank">酷壳</a><ul></ul><a href="https://notes.diguage.com/" title="瓜哥" target="_blank">瓜哥</a><ul></ul><a href="https://taoshu.in/" title="涛叔" target="_blank">涛叔</a><ul></ul><a href="https://colobu.com/" title="鸟窝" target="_blank">鸟窝</a><ul></ul><a href="http://xiaorui.cc/" title="峰云" target="_blank">峰云</a><ul></ul><a href="https://eddycjy.com/posts/" title="煎鱼" target="_blank">煎鱼</a><ul></ul><a href="https://hutusi.com/" title="胡涂说" target="_blank">胡涂说</a><ul></ul><a href="https://qcrao.com/" title="码农桃花源" target="_blank">码农桃花源</a><ul></ul><a href="https://github.com/KeKe-Li/For-learning-Go-Tutorial" title="远方的笔记" target="_blank">远方的笔记</a><ul></ul><a href="https://xargin.com/" title="No Headback" target="_blank">No Headback</a><ul></ul><a href="http://thoslin.github.io/" title="Eat Pray Code" target="_blank">Eat Pray Code</a><ul></ul><a href="https://www.ashenone66.cn/" title="AshenOne's Blog" target="_blank">AshenOne's Blog</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> 备案号:<a href="http://www.beian.miit.gov.cn/"> 鲁ICP备18010105号</a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">fliter.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e10d6858b78ff3fc7853fc72e7240eab";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>