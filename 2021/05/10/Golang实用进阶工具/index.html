<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="崔某人的碎碎念,通才基础上的专才"><meta name="keywords" content="mysql,golang,算法"><title>Golang实用进阶工具 | 清澄秋爽</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Golang实用进阶工具</h1><a id="logo" href="/.">清澄秋爽</a><p class="description">苹果树下的思索者 书写是对思维的缓存</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Golang实用进阶工具</h1><div class="post-meta"><a href="/2021/05/10/Golang实用进阶工具/#comments" class="comment-count"></a><p><span class="date">May 10, 2021</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p><br></p>
<h3 id="gotests"><a href="#gotests" class="headerlink" title="gotests"></a><a href="https://github.com/cweill/gotests" target="_blank" rel="noopener">gotests</a></h3><p><br></p>
<p><em>Generate Go tests from your source code.</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get -u github.com/cweill/gotests/...</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>gotests -h</code></p>
<font size="1"><br><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Usage of gotests:</span><br><span class="line">  -all</span><br><span class="line">        generate tests <span class="keyword">for</span> all functions and methods</span><br><span class="line">  -excl <span class="keyword">string</span></span><br><span class="line">        regexp. generate tests <span class="keyword">for</span> functions and methods that do not match. Takes precedence over -only, -exported, and -all</span><br><span class="line">  -exported</span><br><span class="line">        generate tests <span class="keyword">for</span> exported functions and methods. Takes precedence over -only and -all</span><br><span class="line">  -i    <span class="built_in">print</span> test inputs in error messages</span><br><span class="line">  -nosubtests</span><br><span class="line">        disable generating tests using the Go <span class="number">1.7</span> subtests feature</span><br><span class="line">  -only <span class="keyword">string</span></span><br><span class="line">        regexp. generate tests <span class="keyword">for</span> functions and methods that match only. Takes precedence over -all</span><br><span class="line">  -parallel</span><br><span class="line">        enable generating parallel subtests</span><br><span class="line">  -template <span class="keyword">string</span></span><br><span class="line">        optional. Specify custom test code templates, e.g. testify. This can also be set via environment variable GOTESTS_TEMPLATE</span><br><span class="line">  -template_dir <span class="keyword">string</span></span><br><span class="line">        optional. Path to a directory containing custom test code templates. Takes precedence over -template. This can also be set via environment variable GOTESTS_TEMPLATE_DIR</span><br><span class="line">  -template_params <span class="keyword">string</span></span><br><span class="line">        read external parameters to template by json with stdin</span><br><span class="line">  -template_params_file <span class="keyword">string</span></span><br><span class="line">        read external parameters to template by json with file</span><br><span class="line">  -w    write output to (test) files instead of stdout</span><br></pre></td></tr></table></figure><br><br></font>

<p><br></p>
<p>对  <code>reverse.go</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	fmt.Println(reverseString(<span class="string">"dashen"</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reverse for string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	rs := []<span class="keyword">rune</span>(s)</span><br><span class="line">	l := <span class="built_in">len</span>(rs)</span><br><span class="line">	<span class="keyword">for</span> f, t := <span class="number">0</span>, l<span class="number">-1</span>; f &lt; t; f, t = f+<span class="number">1</span>, t<span class="number">-1</span> &#123;</span><br><span class="line">		rs[f], rs[t] = rs[t], rs[f]</span><br><span class="line">	&#125;</span><br><span class="line">	ns := <span class="keyword">string</span>(rs)</span><br><span class="line">	<span class="keyword">if</span> l &lt; <span class="number">10</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>-l; i++ &#123;</span><br><span class="line">			ns = ns + <span class="string">"0"</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ns</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>执行 <code>gotests -all ./</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Generated Test_reverseString</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"testing"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Test_main</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">        tests := []<span class="keyword">struct</span> &#123;</span><br><span class="line">                name <span class="keyword">string</span></span><br><span class="line">        &#125;&#123;</span><br><span class="line">                <span class="comment">// <span class="doctag">TODO:</span> Add test cases.</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">                t.Run(tt.name, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">                        main()</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Test_reverseString</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">        <span class="keyword">type</span> args <span class="keyword">struct</span> &#123;</span><br><span class="line">                s <span class="keyword">string</span></span><br><span class="line">        &#125;</span><br><span class="line">        tests := []<span class="keyword">struct</span> &#123;</span><br><span class="line">                name <span class="keyword">string</span></span><br><span class="line">                args args</span><br><span class="line">                want <span class="keyword">string</span></span><br><span class="line">        &#125;&#123;</span><br><span class="line">                <span class="comment">// <span class="doctag">TODO:</span> Add test cases.</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">                t.Run(tt.name, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> got := reverseString(tt.args.s); got != tt.want &#123;</span><br><span class="line">                                t.Errorf(<span class="string">"reverseString() = %v, want %v"</span>, got, tt.want)</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>填充测试用例如下:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"testing"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Test_reverseString</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">	<span class="keyword">type</span> args <span class="keyword">struct</span> &#123;</span><br><span class="line">		s <span class="keyword">string</span></span><br><span class="line">	&#125;</span><br><span class="line">	tests := []<span class="keyword">struct</span> &#123;</span><br><span class="line">		name <span class="keyword">string</span></span><br><span class="line">		args args</span><br><span class="line">		want <span class="keyword">string</span></span><br><span class="line">	&#125;&#123;</span><br><span class="line">		&#123;<span class="string">"testcase1"</span>, args&#123;<span class="string">"cuishuang"</span>&#125;, <span class="string">"gnauhsiuc0"</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"testcase2"</span>, args&#123;<span class="string">"dashen"</span>&#125;, <span class="string">"nehsad0000"</span>&#125;,</span><br><span class="line">		<span class="comment">// <span class="doctag">TODO:</span> Add test cases.</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">		t.Run(tt.name, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">			<span class="keyword">if</span> got := reverseString(tt.args.s); got != tt.want &#123;</span><br><span class="line">				t.Errorf(<span class="string">"reverseString() = %v, want %v"</span>, got, tt.want)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>运行单元测试:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">=== RUN   Test_reverseString</span><br><span class="line">=== RUN   Test_reverseString/testcase1</span><br><span class="line">=== RUN   Test_reverseString/testcase2</span><br><span class="line">--- PASS: Test_reverseString (<span class="number">0.00</span>s)</span><br><span class="line">    --- PASS: Test_reverseString/testcase1 (<span class="number">0.00</span>s)</span><br><span class="line">    --- PASS: Test_reverseString/testcase2 (<span class="number">0.00</span>s)</span><br><span class="line">PASS</span><br><span class="line"></span><br><span class="line">进程完成，并显示退出代码 <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>测试通过.</p>
<p><br></p>
<p>执行代码覆盖率测试如下：</p>
<p><code>go test -cover</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PASS</span><br><span class="line">coverage: <span class="number">90.0</span>% of statements</span><br><span class="line">ok      dashne  <span class="number">0.880</span>s</span><br></pre></td></tr></table></figure>
<p>(更多参见 <a href="https://brantou.github.io/2017/05/24/go-cover-story/" target="_blank" rel="noopener">Go的测试覆盖率</a>)</p>
<p><br></p>
<p>可见,使用该工具,可以自动生成绝大部分单元测试的代码~</p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="guru"><a href="#guru" class="headerlink" title="guru"></a><a href="https://pkg.go.dev/golang.org/x/tools/cmd/guru" target="_blank" rel="noopener">guru</a></h3><p><br></p>
<p>a tool for answering questions about Go source code.</p>
<p><a href="https://docs.google.com/document/d/1_Y9xCEMj5S-7rv2ooHpZNH15JgRT5iM742gJkw5LtmQ/edit#" target="_blank" rel="noopener">Using Go Guru:<br>an editor-integrated tool for navigating Go code</a></p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="godepgraph"><a href="#godepgraph" class="headerlink" title="godepgraph"></a><a href="github.com/kisielk/godepgraph">godepgraph</a></h3><p><br></p>
<p><strong>godepgraph is a program for generating a dependency graph of Go packages.</strong></p>
<p>和<a href="https://dashen.tech/2016/04/15/go-callvis-极其好用的Go程序调用图生成工具/#go-list" target="_blank" rel="noopener">go-callvis:极其好用的Go程序调用图生成工具</a>类似</p>
<p><code>godepgraph -h</code></p>
<font size="1"><br><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get github.com/kisielk/godepgraph</span><br></pre></td></tr></table></figure><br><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Usage of godepgraph:</span><br><span class="line">  -d    (alias <span class="keyword">for</span> -withgoroot) show dependencies of packages in the Go standard library</span><br><span class="line">  -horizontal</span><br><span class="line">        lay out the dependency graph horizontally instead of vertically</span><br><span class="line">  -i <span class="keyword">string</span></span><br><span class="line">        (alias <span class="keyword">for</span> -ignorepackages) a comma-separated list of packages to ignore</span><br><span class="line">  -ignorepackages <span class="keyword">string</span></span><br><span class="line">        a comma-separated list of packages to ignore</span><br><span class="line">  -ignoreprefixes <span class="keyword">string</span></span><br><span class="line">        a comma-separated list of prefixes to ignore</span><br><span class="line">  -l <span class="keyword">int</span></span><br><span class="line">        (alias <span class="keyword">for</span> -maxlevel) maximum level of the <span class="keyword">go</span> dependency graph (<span class="keyword">default</span> <span class="number">256</span>)</span><br><span class="line">  -maxlevel <span class="keyword">int</span></span><br><span class="line">        max level of <span class="keyword">go</span> dependency graph (<span class="keyword">default</span> <span class="number">256</span>)</span><br><span class="line">  -nostdlib</span><br><span class="line">        ignore packages in the Go standard library</span><br><span class="line">  -novendor</span><br><span class="line">        ignore packages in the vendor directory</span><br><span class="line">  -o <span class="keyword">string</span></span><br><span class="line">        (alias <span class="keyword">for</span> -onlyprefixes) a comma-separated list of prefixes to include</span><br><span class="line">  -onlyprefixes <span class="keyword">string</span></span><br><span class="line">        a comma-separated list of prefixes to include</span><br><span class="line">  -p <span class="keyword">string</span></span><br><span class="line">        (alias <span class="keyword">for</span> -ignoreprefixes) a comma-separated list of prefixes to ignore</span><br><span class="line">  -s    (alias <span class="keyword">for</span> -nostdlib) ignore packages in the Go standard library</span><br><span class="line">  -stoponerror</span><br><span class="line">        stop on <span class="keyword">package</span> <span class="keyword">import</span> errors (<span class="keyword">default</span> <span class="literal">true</span>)</span><br><span class="line">  -t    (alias <span class="keyword">for</span> -withtests) include test packages</span><br><span class="line">  -tags <span class="keyword">string</span></span><br><span class="line">        a comma-separated list of build tags to consider satisfied during the build</span><br><span class="line">  -withgoroot</span><br><span class="line">        show dependencies of packages in the Go standard library</span><br><span class="line">  -withtests</span><br><span class="line">        include test packages</span><br></pre></td></tr></table></figure><br><br></font>

<p><br></p>
<h4 id="godepgraph-某个文件或某个github项目"><a href="#godepgraph-某个文件或某个github项目" class="headerlink" title="godepgraph 某个文件或某个github项目"></a><code>godepgraph 某个文件或某个github项目</code></h4><p><br></p>
<p>会生成文字版的引用关系</p>
<p><br></p>
<p>如 如对于<code>b_sql.go</code>, 代码如下:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"github.com/davecgh/go-spew/spew"</span></span><br><span class="line">	<span class="string">"github.com/jinzhu/gorm"</span></span><br><span class="line">	_ <span class="string">"github.com/jinzhu/gorm/dialects/mysql"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	db, err := gorm.Open(<span class="string">"mysql"</span>, <span class="string">"root:12345678@/dashen?charset=utf8&amp;parseTime=True&amp;loc=Local"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">defer</span> db.Close()</span><br><span class="line"></span><br><span class="line">	books, err := GetBooksInfo(db, <span class="number">0</span>, <span class="number">10</span>, <span class="string">"*"</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">"id &lt; ? "</span>, <span class="number">126</span>)</span><br><span class="line"></span><br><span class="line">	spew.Println(<span class="string">"books are:"</span>, books)</span><br><span class="line"></span><br><span class="line">	books2, err2 := GetBooksInfo(db, <span class="number">0</span>, <span class="number">10</span>, <span class="string">"*"</span>, <span class="string">""</span>, <span class="string">",(select*from(select+sleep(2)union/**/select+1)a)"</span>, <span class="string">"id &lt; ? "</span>, <span class="number">126</span>)</span><br><span class="line"></span><br><span class="line">	spew.Println(<span class="string">"books2, err2"</span>, books2, err2)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> A <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id         <span class="keyword">int</span>       <span class="string">`gorm:"column:id;primary_key;AUTO_INCREMENT" json:"id"`</span></span><br><span class="line">	Name       <span class="keyword">string</span>    <span class="string">`gorm:"column:name" json:"name"`</span></span><br><span class="line">	Book       <span class="keyword">string</span>    <span class="string">`gorm:"column:book" json:"book"`</span></span><br><span class="line">	CreateTime time.Time <span class="string">`gorm:"column:create_time;default:CURRENT_TIMESTAMP" json:"create_time"`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(A)</span> <span class="title">TableName</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"a"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetBooksInfo</span><span class="params">(db *gorm.DB, offset, limit <span class="keyword">int</span>, field, order, sort, where <span class="keyword">string</span>, params ...<span class="keyword">interface</span>&#123;&#125;)</span> <span class="params">(res []*A, err error)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	db = db.Select(field).Where(where, params...)</span><br><span class="line">	<span class="keyword">if</span> order == <span class="string">""</span> &#123;</span><br><span class="line">		order = <span class="string">"create_time"</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> sort == <span class="string">""</span> &#123;</span><br><span class="line">		sort = <span class="string">"DESC"</span></span><br><span class="line">	&#125;</span><br><span class="line">	db = db.Order(order + <span class="string">" "</span> + sort)</span><br><span class="line">	<span class="keyword">if</span> limit &gt; <span class="number">0</span> &#123;</span><br><span class="line">		db = db.Limit(limit)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> offset &gt; <span class="number">0</span> &#123;</span><br><span class="line">		db = db.Offset(offset)</span><br><span class="line">	&#125;</span><br><span class="line">	err = db.Find(&amp;res).Error</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"GetBooksInfo error (%+v): where (%s), params (%+v)\n"</span>, err, where, params)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> res == <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"GetBooksInfo empty: where (%s), params (%+v)\n"</span>, where, params)</span><br><span class="line">		res = <span class="built_in">make</span>([]*A, <span class="number">0</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>执行 <code>godepgraph b_sql.go</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">digraph godep &#123;</span><br><span class="line">splines=ortho</span><br><span class="line">nodesep=<span class="number">0.4</span></span><br><span class="line">ranksep=<span class="number">0.8</span></span><br><span class="line">node [shape=<span class="string">"box"</span>,style=<span class="string">"rounded,filled"</span>]</span><br><span class="line">edge [arrowsize=<span class="string">"0.5"</span>]</span><br><span class="line"><span class="string">"b_sql.go"</span> [label=<span class="string">"b_sql.go"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/b_sql.go"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"b_sql.go"</span> -&gt; <span class="string">"fmt"</span>;</span><br><span class="line"><span class="string">"b_sql.go"</span> -&gt; <span class="string">"github.com/davecgh/go-spew/spew"</span>;</span><br><span class="line"><span class="string">"b_sql.go"</span> -&gt; <span class="string">"github.com/jinzhu/gorm"</span>;</span><br><span class="line"><span class="string">"b_sql.go"</span> -&gt; <span class="string">"github.com/jinzhu/gorm/dialects/mysql"</span>;</span><br><span class="line"><span class="string">"b_sql.go"</span> -&gt; <span class="string">"time"</span>;</span><br><span class="line"><span class="string">"bytes"</span> [label=<span class="string">"bytes"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/bytes"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"context"</span> [label=<span class="string">"context"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/context"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/rand"</span> [label=<span class="string">"crypto/rand"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/rand"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/rsa"</span> [label=<span class="string">"crypto/rsa"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/rsa"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/sha1"</span> [label=<span class="string">"crypto/sha1"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/sha1"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/sha256"</span> [label=<span class="string">"crypto/sha256"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/sha256"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/tls"</span> [label=<span class="string">"crypto/tls"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/tls"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"crypto/x509"</span> [label=<span class="string">"crypto/x509"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/crypto/x509"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"database/sql"</span> [label=<span class="string">"database/sql"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/database/sql"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"database/sql/driver"</span> [label=<span class="string">"database/sql/driver"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/database/sql/driver"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"encoding/binary"</span> [label=<span class="string">"encoding/binary"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/encoding/binary"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"encoding/hex"</span> [label=<span class="string">"encoding/hex"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/encoding/hex"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"encoding/json"</span> [label=<span class="string">"encoding/json"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/encoding/json"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"encoding/pem"</span> [label=<span class="string">"encoding/pem"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/encoding/pem"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"errors"</span> [label=<span class="string">"errors"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/errors"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"fmt"</span> [label=<span class="string">"fmt"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/fmt"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> [label=<span class="string">"github.com/davecgh/go-spew/spew"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/github.com/davecgh/go-spew/spew"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"bytes"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"encoding/hex"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"fmt"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"io"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"os"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"reflect"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"regexp"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"sort"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"strconv"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"strings"</span>;</span><br><span class="line"><span class="string">"github.com/davecgh/go-spew/spew"</span> -&gt; <span class="string">"unsafe"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> [label=<span class="string">"github.com/go-sql-driver/mysql"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/github.com/go-sql-driver/mysql"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"bytes"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"context"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/rand"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/rsa"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/sha1"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/sha256"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/tls"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"crypto/x509"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"database/sql"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"database/sql/driver"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"encoding/binary"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"encoding/pem"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"errors"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"fmt"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"io"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"log"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"math"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"math/big"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"net"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"net/url"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"os"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"reflect"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"sort"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"strconv"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"strings"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"sync"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"sync/atomic"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"syscall"</span>;</span><br><span class="line"><span class="string">"github.com/go-sql-driver/mysql"</span> -&gt; <span class="string">"time"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> [label=<span class="string">"github.com/jinzhu/gorm"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/github.com/jinzhu/gorm"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"bytes"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"context"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"crypto/sha1"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"database/sql"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"database/sql/driver"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"encoding/json"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"errors"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"fmt"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"github.com/jinzhu/inflection"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"go/ast"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"log"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"os"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"reflect"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"regexp"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"runtime"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"sort"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"strconv"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"strings"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"sync"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"time"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"unicode"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm"</span> -&gt; <span class="string">"unicode/utf8"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm/dialects/mysql"</span> [label=<span class="string">"github.com/jinzhu/gorm/dialects/mysql"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/github.com/jinzhu/gorm/dialects/mysql"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/jinzhu/gorm/dialects/mysql"</span> -&gt; <span class="string">"github.com/go-sql-driver/mysql"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/inflection"</span> [label=<span class="string">"github.com/jinzhu/inflection"</span> color=<span class="string">"paleturquoise"</span> URL=<span class="string">"https://godoc.org/github.com/jinzhu/inflection"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"github.com/jinzhu/inflection"</span> -&gt; <span class="string">"regexp"</span>;</span><br><span class="line"><span class="string">"github.com/jinzhu/inflection"</span> -&gt; <span class="string">"strings"</span>;</span><br><span class="line"><span class="string">"go/ast"</span> [label=<span class="string">"go/ast"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/go/ast"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"io"</span> [label=<span class="string">"io"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/io"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"log"</span> [label=<span class="string">"log"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/log"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"math"</span> [label=<span class="string">"math"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/math"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"math/big"</span> [label=<span class="string">"math/big"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/math/big"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"net"</span> [label=<span class="string">"net"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/net"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"net/url"</span> [label=<span class="string">"net/url"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/net/url"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"os"</span> [label=<span class="string">"os"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/os"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"reflect"</span> [label=<span class="string">"reflect"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/reflect"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"regexp"</span> [label=<span class="string">"regexp"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/regexp"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"runtime"</span> [label=<span class="string">"runtime"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/runtime"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"sort"</span> [label=<span class="string">"sort"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/sort"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"strconv"</span> [label=<span class="string">"strconv"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/strconv"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"strings"</span> [label=<span class="string">"strings"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/strings"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"sync"</span> [label=<span class="string">"sync"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/sync"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"sync/atomic"</span> [label=<span class="string">"sync/atomic"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/sync/atomic"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"syscall"</span> [label=<span class="string">"syscall"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/syscall"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"time"</span> [label=<span class="string">"time"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/time"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"unicode"</span> [label=<span class="string">"unicode"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/unicode"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"unicode/utf8"</span> [label=<span class="string">"unicode/utf8"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/unicode/utf8"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line"><span class="string">"unsafe"</span> [label=<span class="string">"unsafe"</span> color=<span class="string">"palegreen"</span> URL=<span class="string">"https://godoc.org/unsafe"</span> target=<span class="string">"_blank"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="配合dot命令生成调用关系图"><a href="#配合dot命令生成调用关系图" class="headerlink" title="配合dot命令生成调用关系图"></a>配合dot命令生成调用关系图</h4><p><br></p>
<p>➘</p>
<font size="1" color="#00CED1"><br><br><a href="https://blog.csdn.net/u012313689/article/details/53070039" target="_blank" rel="noopener">dot命令</a>是graphviz的一部分，通过编写一些类似脚本的语言，可以容易地生成流程图,<br><br><br>格式：dot -T<type> -o<outfile> &lt;infile.dot&gt;<br><br>输入文件是&lt;infile.dot&gt;，生成的格式由<type>指定，生成的文件是<outfile>。<br><br><br><br>其中-T<type>包括：<br><br>-Tps (PostScript),<br><br>-Tsvg -Tsvgz (Structured Vector Graphics),<br><br>-Tfig (XFIG  graphics),<br><br>-Tmif  (FrameMaker graphics),<br><br>-Thpgl (HP pen plotters),<br><br>-Tpcl (Laserjet printers),<br><br>-Tpng -Tgif (bitmap graphics),<br><br>-Tdia (GTK+ based diagrams),<br><br>-Timap (imagemap files for httpd servers for each node or edge  that  has a non-null “href” attribute.),<br><br>-Tcmapx (client-side imagemap for use in html and xhtml).<br><br></type></outfile></type></outfile></type></font>

<p>➚</p>
<p><code>godepgraph b_sql.go | dot -Tsvg -o shuang.svg</code></p>
<p><img src="/2021/05/10/Golang实用进阶工具/shuang.svg" width="100%" height="100%"></p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="gomodifytags"><a href="#gomodifytags" class="headerlink" title="gomodifytags"></a><a href="https://github.com/fatih/gomodifytags" target="_blank" rel="noopener">gomodifytags</a></h3><p><br></p>
<p>参考 <a href="https://dashen.tech/2016/04/16/gomodifytags-%E5%A5%BD%E7%94%A8%E7%9A%84struct%E6%A0%87%E7%AD%BE%E6%93%8D%E4%BD%9C%E5%B7%A5%E5%85%B7/" target="_blank" rel="noopener">gomodifytags:好用的struct标签操作工具</a></p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="goreturns"><a href="#goreturns" class="headerlink" title="goreturns"></a><a href="sourcegraph.com/sqs/goreturns">goreturns</a></h3><p><br></p>
<p><em>A gofmt/goimports-like tool for Go programmers that fills in Go return statements with zero values to match the func return types</em></p>
<p>填充方法返回类型的零值</p>
<p><br></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> b_demo</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"errors"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>, error)</span></span> &#123; <span class="keyword">return</span> errors.New(<span class="string">"foo"</span>) &#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>goreturns 文件名.go</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> b_demo</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"errors"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>, error)</span></span> &#123; <span class="keyword">return</span> <span class="number">0</span>, errors.New(<span class="string">"foo"</span>) &#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="depth"><a href="#depth" class="headerlink" title="depth"></a><a href="https://github.com/KyleBanks/depth" target="_blank" rel="noopener">depth</a></h3><p><br></p>
<p><em>Visualize Go Dependency Trees</em></p>
<p><code>go get github.com/KyleBanks/depth/cmd/depth</code></p>
<p><code>depth -h</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage of depth:</span><br><span class="line">  -explain <span class="keyword">string</span></span><br><span class="line">        If set, show which packages <span class="keyword">import</span> the specified target</span><br><span class="line">  -internal</span><br><span class="line">        If set, resolves dependencies of internal (stdlib) packages.</span><br><span class="line">  -json</span><br><span class="line">        If set, outputs the depencies in JSON format.</span><br><span class="line">  -max <span class="keyword">int</span></span><br><span class="line">        Sets the maximum depth of dependencies to resolve.</span><br><span class="line">  -test</span><br><span class="line">        If set, resolves dependencies used <span class="keyword">for</span> testing.</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>depth 某个第三方库</code></p>
<p><br></p>
<p><code>depth -internal 某个官方标准库</code></p>
<p>如:</p>
<p><strong>depth -internal strings</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">strings</span><br><span class="line">  ├ errors</span><br><span class="line">    └ internal/reflectlite</span><br><span class="line">      ├ runtime</span><br><span class="line">        ├ internal/bytealg</span><br><span class="line">          ├ internal/cpu</span><br><span class="line">          └ unsafe</span><br><span class="line">        ├ internal/cpu</span><br><span class="line">        ├ runtime/internal/atomic</span><br><span class="line">          └ unsafe</span><br><span class="line">        ├ runtime/internal/math</span><br><span class="line">          └ runtime/internal/sys</span><br><span class="line">        ├ runtime/internal/sys</span><br><span class="line">        └ unsafe</span><br><span class="line">      └ unsafe</span><br><span class="line">  ├ internal/bytealg</span><br><span class="line">  ├ io</span><br><span class="line">    ├ errors</span><br><span class="line">    └ sync</span><br><span class="line">      ├ internal/race</span><br><span class="line">        └ unsafe</span><br><span class="line">      ├ runtime</span><br><span class="line">      ├ sync/atomic</span><br><span class="line">        └ unsafe</span><br><span class="line">      └ unsafe</span><br><span class="line">  ├ sync</span><br><span class="line">  ├ unicode</span><br><span class="line">  ├ unicode/utf8</span><br><span class="line">  └ unsafe</span><br><span class="line"><span class="number">15</span> dependencies (<span class="number">15</span> internal, <span class="number">0</span> external, <span class="number">0</span> testing).</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>又如:</p>
<p><strong>depth -internal fmt</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">fmt</span><br><span class="line">  ├ errors</span><br><span class="line">    └ internal/reflectlite</span><br><span class="line">      ├ runtime</span><br><span class="line">        ├ internal/bytealg</span><br><span class="line">          ├ internal/cpu</span><br><span class="line">          └ unsafe</span><br><span class="line">        ├ internal/cpu</span><br><span class="line">        ├ runtime/internal/atomic</span><br><span class="line">          └ unsafe</span><br><span class="line">        ├ runtime/internal/math</span><br><span class="line">          └ runtime/internal/sys</span><br><span class="line">        ├ runtime/internal/sys</span><br><span class="line">        └ unsafe</span><br><span class="line">      └ unsafe</span><br><span class="line">  ├ internal/fmtsort</span><br><span class="line">    ├ reflect</span><br><span class="line">      ├ math</span><br><span class="line">        ├ internal/cpu</span><br><span class="line">        ├ math/bits</span><br><span class="line">          └ unsafe</span><br><span class="line">        └ unsafe</span><br><span class="line">      ├ runtime</span><br><span class="line">      ├ strconv</span><br><span class="line">        ├ errors</span><br><span class="line">        ├ internal/bytealg</span><br><span class="line">        ├ math</span><br><span class="line">        ├ math/bits</span><br><span class="line">        └ unicode/utf8</span><br><span class="line">      ├ sync</span><br><span class="line">        ├ internal/race</span><br><span class="line">          └ unsafe</span><br><span class="line">        ├ runtime</span><br><span class="line">        ├ sync/atomic</span><br><span class="line">          └ unsafe</span><br><span class="line">        └ unsafe</span><br><span class="line">      ├ unicode</span><br><span class="line">      ├ unicode/utf8</span><br><span class="line">      └ unsafe</span><br><span class="line">    └ sort</span><br><span class="line">      └ internal/reflectlite</span><br><span class="line">  ├ io</span><br><span class="line">    ├ errors</span><br><span class="line">    └ sync</span><br><span class="line">  ├ math</span><br><span class="line">  ├ os</span><br><span class="line">    ├ errors</span><br><span class="line">    ├ internal/oserror</span><br><span class="line">      └ errors</span><br><span class="line">    ├ internal/poll</span><br><span class="line">      ├ errors</span><br><span class="line">      ├ io</span><br><span class="line">      ├ runtime</span><br><span class="line">      ├ sync</span><br><span class="line">      ├ sync/atomic</span><br><span class="line">      ├ syscall</span><br><span class="line">        ├ errors</span><br><span class="line">        ├ internal/bytealg</span><br><span class="line">        ├ internal/oserror</span><br><span class="line">        ├ internal/race</span><br><span class="line">        ├ runtime</span><br><span class="line">        ├ sync</span><br><span class="line">        └ unsafe</span><br><span class="line">      ├ time</span><br><span class="line">        ├ errors</span><br><span class="line">        ├ runtime</span><br><span class="line">        ├ sync</span><br><span class="line">        ├ syscall</span><br><span class="line">        └ unsafe</span><br><span class="line">      └ unsafe</span><br><span class="line">    ├ internal/syscall/execenv</span><br><span class="line">      └ syscall</span><br><span class="line">    ├ internal/syscall/unix</span><br><span class="line">      ├ syscall</span><br><span class="line">      └ unsafe</span><br><span class="line">    ├ internal/testlog</span><br><span class="line">      └ sync/atomic</span><br><span class="line">    ├ io</span><br><span class="line">    ├ runtime</span><br><span class="line">    ├ sync</span><br><span class="line">    ├ sync/atomic</span><br><span class="line">    ├ syscall</span><br><span class="line">    ├ time</span><br><span class="line">    └ unsafe</span><br><span class="line">  ├ reflect</span><br><span class="line">  ├ strconv</span><br><span class="line">  ├ sync</span><br><span class="line">  └ unicode/utf8</span><br><span class="line"><span class="number">29</span> dependencies (<span class="number">29</span> internal, <span class="number">0</span> external, <span class="number">0</span> testing).</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="interface"><a href="#interface" class="headerlink" title="interface"></a><a href="https://github.com/mvdan/interfacer" target="_blank" rel="noopener">interface</a></h3><p><br></p>
<p>实用价值不高~</p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="safesql"><a href="#safesql" class="headerlink" title="safesql"></a><a href="https://github.com/stripe/safesql" target="_blank" rel="noopener">safesql</a></h3><p><br></p>
<p><em>SafeSQL是Go的静态分析工具，可以防止SQL注入</em></p>
<p>可用来分析项目中可能存在的sql注入隐患</p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="aligncheck-amp-amp-structcheck-amp-amp-varcheck"><a href="#aligncheck-amp-amp-structcheck-amp-amp-varcheck" class="headerlink" title="aligncheck &amp;&amp; structcheck &amp;&amp;varcheck"></a><a href="https://gitlab.com/opennota/check" target="_blank" rel="noopener">aligncheck &amp;&amp; structcheck &amp;&amp;varcheck</a></h3><p><br></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get -u gitlab.com/opennota/check/cmd/aligncheck</span><br><span class="line"><span class="keyword">go</span> get -u gitlab.com/opennota/check/cmd/structcheck</span><br><span class="line"><span class="keyword">go</span> get -u gitlab.com/opennota/check/cmd/varcheck</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="找寻效率低下的结构体"><a href="#找寻效率低下的结构体" class="headerlink" title="找寻效率低下的结构体"></a>找寻效率低下的结构体</h4><p><br></p>
<p>可以是某个官方包,也可以是某个文件</p>
<p><code>aligncheck net/http</code></p>
<p>得到:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">1507</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2Framer could have size <span class="number">200</span> (currently <span class="number">216</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">2274</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2HeadersFrameParam could have size <span class="number">40</span> (currently <span class="number">48</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">4058</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2serverConn could have size <span class="number">368</span> (currently <span class="number">384</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">4140</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2stream could have size <span class="number">152</span> (currently <span class="number">168</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">5851</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2requestBody could have size <span class="number">32</span> (currently <span class="number">40</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">6559</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2Transport could have size <span class="number">80</span> (currently <span class="number">88</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">6698</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2ClientConn could have size <span class="number">368</span> (currently <span class="number">384</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">6746</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2clientStream could have size <span class="number">312</span> (currently <span class="number">328</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">9252</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2writeData could have size <span class="number">32</span> (currently <span class="number">40</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">9335</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2writeResHeaders could have size <span class="number">96</span> (currently <span class="number">104</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/h2_bundle.<span class="keyword">go</span>:<span class="number">9407</span>:<span class="number">6</span>: <span class="keyword">struct</span> http2writePushPromise could have size <span class="number">48</span> (currently <span class="number">56</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/server.<span class="keyword">go</span>:<span class="number">3294</span>:<span class="number">6</span>: <span class="keyword">struct</span> timeoutWriter could have size <span class="number">88</span> (currently <span class="number">96</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/server.<span class="keyword">go</span>:<span class="number">418</span>:<span class="number">6</span>: <span class="keyword">struct</span> response could have size <span class="number">200</span> (currently <span class="number">224</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/server.<span class="keyword">go</span>:<span class="number">653</span>:<span class="number">6</span>: <span class="keyword">struct</span> connReader could have size <span class="number">40</span> (currently <span class="number">48</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/transfer.<span class="keyword">go</span>:<span class="number">59</span>:<span class="number">6</span>: <span class="keyword">struct</span> transferWriter could have size <span class="number">128</span> (currently <span class="number">152</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/transport.<span class="keyword">go</span>:<span class="number">1103</span>:<span class="number">6</span>: <span class="keyword">struct</span> wantConn could have size <span class="number">168</span> (currently <span class="number">176</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/transport.<span class="keyword">go</span>:<span class="number">1768</span>:<span class="number">6</span>: <span class="keyword">struct</span> persistConn could have size <span class="number">264</span> (currently <span class="number">280</span>)</span><br><span class="line">net/http: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/net/http/transport.<span class="keyword">go</span>:<span class="number">95</span>:<span class="number">6</span>: <span class="keyword">struct</span> Transport could have size <span class="number">288</span> (currently <span class="number">304</span>)</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="找到没有用到的结构体字段"><a href="#找到没有用到的结构体字段" class="headerlink" title="找到没有用到的结构体字段"></a>找到没有用到的结构体字段</h4><p><br></p>
<p><code>structcheck --help</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Usage of structcheck:</span><br><span class="line">  -a    Count assignments only</span><br><span class="line">  -e    Report exported fields</span><br><span class="line">  -t    Load test files too</span><br><span class="line">  -tags <span class="keyword">string</span></span><br><span class="line">        Build tags</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>structcheck fmt</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/scan.<span class="keyword">go</span>:<span class="number">169</span>:<span class="number">2</span>: fmt.ssave.nlIsEnd</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/scan.<span class="keyword">go</span>:<span class="number">170</span>:<span class="number">2</span>: fmt.ssave.nlIsSpace</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/scan.<span class="keyword">go</span>:<span class="number">171</span>:<span class="number">2</span>: fmt.ssave.argLimit</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/scan.<span class="keyword">go</span>:<span class="number">172</span>:<span class="number">2</span>: fmt.ssave.limit</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/scan.<span class="keyword">go</span>:<span class="number">173</span>:<span class="number">2</span>: fmt.ssave.maxWid</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">25</span>:<span class="number">2</span>: fmt.fmtFlags.precPresent</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">26</span>:<span class="number">2</span>: fmt.fmtFlags.minus</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">27</span>:<span class="number">2</span>: fmt.fmtFlags.plus</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">28</span>:<span class="number">2</span>: fmt.fmtFlags.sharp</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">30</span>:<span class="number">2</span>: fmt.fmtFlags.zero</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">24</span>:<span class="number">2</span>: fmt.fmtFlags.widPresent</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">35</span>:<span class="number">2</span>: fmt.fmtFlags.plusV</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">36</span>:<span class="number">2</span>: fmt.fmtFlags.sharpV</span><br><span class="line">fmt: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/fmt/format.<span class="keyword">go</span>:<span class="number">29</span>:<span class="number">2</span>: fmt.fmtFlags.space</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="找到没有用到的全局变量和常量"><a href="#找到没有用到的全局变量和常量" class="headerlink" title="找到没有用到的全局变量和常量"></a>找到没有用到的全局变量和常量</h4><p><br></p>
<p><code>varcheck --help</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Usage of varcheck:</span><br><span class="line">  -e    Report exported variables and constants</span><br><span class="line">  -tags <span class="keyword">string</span></span><br><span class="line">        Build tags</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>varcheck image/jpeg</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/reader.<span class="keyword">go</span>:<span class="number">74</span>:<span class="number">2</span>: adobeTransformYCbCr</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/reader.<span class="keyword">go</span>:<span class="number">75</span>:<span class="number">2</span>: adobeTransformYCbCrK</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">54</span>:<span class="number">2</span>: quantIndexLuminance</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">55</span>:<span class="number">2</span>: quantIndexChrominance</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">91</span>:<span class="number">2</span>: huffIndexLuminanceDC</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">92</span>:<span class="number">2</span>: huffIndexLuminanceAC</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">93</span>:<span class="number">2</span>: huffIndexChrominanceDC</span><br><span class="line">image/jpeg: /usr/local/opt/<span class="keyword">go</span>@<span class="number">1.14</span>/libexec/src/image/jpeg/writer.<span class="keyword">go</span>:<span class="number">94</span>:<span class="number">2</span>: huffIndexChrominanceAC</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="eg"><a href="#eg" class="headerlink" title="eg"></a><a href="https://pkg.go.dev/golang.org/x/tools/cmd/eg" target="_blank" rel="noopener">eg</a></h3><p><br></p>
<p><a href="https://github.com/golang/tools/blob/v0.1.1/cmd/eg/eg.go" target="_blank" rel="noopener">golang/tools</a></p>
<p><code>eg -h</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage of eg:</span><br><span class="line">  -beforeedit <span class="keyword">string</span></span><br><span class="line">        A command to exec before each file is edited (e.g. chmod, checkout).  Whitespace delimits argument words.  The <span class="keyword">string</span> <span class="string">'&#123;&#125;'</span> is replaced by the file name.</span><br><span class="line">  -help</span><br><span class="line">        show detailed help message</span><br><span class="line">  -t <span class="keyword">string</span></span><br><span class="line">        template.<span class="keyword">go</span> file specifying the refactoring</span><br><span class="line">  -transitive</span><br><span class="line">        apply refactoring to all dependencies too</span><br><span class="line">  -v    show verbose matcher diagnostics</span><br><span class="line">  -w    rewrite input files in place (by <span class="keyword">default</span>, the results are printed to standard output)</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<p>参考:</p>
<p><a href="https://brantou.github.io//2017/11/24/go-tool/" target="_blank" rel="noopener">Go语言不完全工具列表</a></p>
<p><a href="https://github.com/golang/tools/tree/v0.1.1/cmd" target="_blank" rel="noopener">golang/tools</a></p>
<p><br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">代码自动完成（使用gocode）</span><br><span class="line">快速提示信息（使用godef）</span><br><span class="line">跳转到定义（使用godef）</span><br><span class="line">搜索参考引用（使用go-find-references）</span><br><span class="line">文件大纲（使用go-outline）</span><br><span class="line">重命名（使用gorename）</span><br><span class="line">保存构建（使用go build和go test）</span><br><span class="line">代码格式化（使用goreturns或goimports或gofmt）</span><br><span class="line">调试代码（使用delve）</span><br></pre></td></tr></table></figure><!--爽哥为赞赏功能新加--></div><!--script(type='text/javascript', src=url_for(theme.js) + '/jquery.js' + '?v=' + theme.version, async)--><script type="text/javascript" src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>BTC Address:3NNxkM6ez7szsUAgTnK2VaF949LoGmXuBs<br></div></div><div id="donate_guide" class="donate_bar center hidden pay"><img src="http://cuishuang.gitee.io/img/weChatMoney.png" title="微信打赏" alt="微信打赏"><img src="http://cuishuang.gitee.io/img/alipayMoney.png" title="支付宝打赏" alt="支付宝打赏"><img src="http://cuishuang.gitee.io/img/btc.png" title="比特币打赏" alt="比特币打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><!-- google adsense--><!--if theme.show_ad_post == true--><!--    script(async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")--><!--    ins.adsbygoogle(style="display:block" data-ad-client="ca-pub-1181798273731653" data-ad-format="auto")--><!--    script (adsbygoogle = window.adsbygoogle || []).push({});-->
<div class="post-copyright"><blockquote><p>原文作者: fliter</p><p>原文链接: </p><a href="http://www.dashen.tech/2021/05/10/Golang实用进阶工具/">http://www.dashen.tech/2021/05/10/Golang实用进阶工具/</a><p>版权声明: 转载请注明出处</p></blockquote></div><div class="tags"><a href="/tags/Tools/">Tools</a><a href="/tags/Go/">Go</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2021/05/20/Go-ast库入门/" class="pre">Go ast库入门</a><a href="/2021/05/05/读「Linux-UNIX系统编程手册-上-」/" class="next">读「Linux/UNIX系统编程手册(上)」</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#gotests"><span class="toc-text">gotests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#guru"><span class="toc-text">guru</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#godepgraph"><span class="toc-text">godepgraph</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#godepgraph-某个文件或某个github项目"><span class="toc-text">godepgraph 某个文件或某个github项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配合dot命令生成调用关系图"><span class="toc-text">配合dot命令生成调用关系图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gomodifytags"><span class="toc-text">gomodifytags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#goreturns"><span class="toc-text">goreturns</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#depth"><span class="toc-text">depth</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#interface"><span class="toc-text">interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#safesql"><span class="toc-text">safesql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#aligncheck-amp-amp-structcheck-amp-amp-varcheck"><span class="toc-text">aligncheck &amp;&amp; structcheck &amp;&amp;varcheck</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#找寻效率低下的结构体"><span class="toc-text">找寻效率低下的结构体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#找到没有用到的结构体字段"><span class="toc-text">找到没有用到的结构体字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#找到没有用到的全局变量和常量"><span class="toc-text">找到没有用到的全局变量和常量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eg"><span class="toc-text">eg</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/09/19/搭建substrate开发环境/">搭建substrate开发环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/18/使用Selenium获取网站信息/">使用Selenium获取网站信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/15/Rust-vs-Go-常用语法对比-13/">Rust vs Go:常用语法对比(13)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/13/Rust-vs-Go-常用语法对比-12/">Rust vs Go:常用语法对比(12)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/12/Rust-vs-Go-常用语法对比-11/">Rust vs Go:常用语法对比(11)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/11/Rust-vs-Go-常用语法对比-10/">Rust vs Go:常用语法对比(10)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/10/Rust-vs-Go-常用语法对比-9/">Rust vs Go:常用语法对比(9)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/09/Rust-vs-Go-常用语法对比-8/">Rust vs Go:常用语法对比(8)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/08/Rust-vs-Go-常用语法对比-7/">Rust vs Go:常用语法对比(7)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/07/Rust-vs-Go-常用语法对比-6/">Rust vs Go:常用语法对比(6)</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-weixin"> 扫码关注-旅途散记</i></div><img width="100%" height="233" title="微信扫一扫" src="https://cuishuang.gitee.io/img/lvtusanji.jpg"></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tree/">Tree</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sync/">sync</a><span class="category-list-count">9</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/操作系统/" style="font-size: 15px;">操作系统</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Pearl/" style="font-size: 15px;">Pearl</a> <a href="/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/tags/Go/" style="font-size: 15px;">Go</a> <a href="/tags/Todo/" style="font-size: 15px;">Todo</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/Compiler/" style="font-size: 15px;">Compiler</a> <a href="/tags/密码学/" style="font-size: 15px;">密码学</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/杂谈/" style="font-size: 15px;">杂谈</a> <a href="/tags/Interview/" style="font-size: 15px;">Interview</a> <a href="/tags/译海一粟/" style="font-size: 15px;">译海一粟</a> <a href="/tags/金庸/" style="font-size: 15px;">金庸</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/Rust/" style="font-size: 15px;">Rust</a> <a href="/tags/书摘-影评/" style="font-size: 15px;">书摘/影评</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/数学/" style="font-size: 15px;">数学</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/足球-体育/" style="font-size: 15px;">足球&体育</a> <a href="/tags/读城记/" style="font-size: 15px;">读城记</a> <a href="/tags/星陨/" style="font-size: 15px;">星陨</a> <a href="/tags/奇文共赏/" style="font-size: 15px;">奇文共赏</a> <a href="/tags/区域经济/" style="font-size: 15px;">区域经济</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1093/02/">二月 1093</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://leetcode.com/" title="LeetCode" target="_blank">LeetCode</a><ul></ul><a href="https://golang.org/" title="Go官网" target="_blank">Go官网</a><ul></ul><a href="https://tonybai.com/" title="TonyBai" target="_blank">TonyBai</a><ul></ul><a href="http://lietoumai.com/" title="顾问麦的小站" target="_blank">顾问麦的小站</a><ul></ul><a href="https://www.coolshell.cn/" title="酷壳" target="_blank">酷壳</a><ul></ul><a href="https://notes.diguage.com/" title="瓜哥" target="_blank">瓜哥</a><ul></ul><a href="https://colobu.com/" title="鸟窝" target="_blank">鸟窝</a><ul></ul><a href="http://xiaorui.cc/" title="峰云" target="_blank">峰云</a><ul></ul><a href="https://eddycjy.com/posts/" title="煎鱼" target="_blank">煎鱼</a><ul></ul><a href="https://hutusi.com/" title="胡涂说" target="_blank">胡涂说</a><ul></ul><a href="https://qcrao.com/" title="码农桃花源" target="_blank">码农桃花源</a><ul></ul><a href="https://github.com/KeKe-Li/For-learning-Go-Tutorial" title="远方的笔记" target="_blank">远方的笔记</a><ul></ul><a href="https://xargin.com/" title="No Headback" target="_blank">No Headback</a><ul></ul><a href="http://thoslin.github.io/" title="Eat Pray Code" target="_blank">Eat Pray Code</a><ul></ul><a href="https://www.ashenone66.cn/" title="AshenOne's Blog" target="_blank">AshenOne's Blog</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> 备案号:<a href="http://www.beian.miit.gov.cn/"> 鲁ICP备18010105号</a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">fliter.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e10d6858b78ff3fc7853fc72e7240eab";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>