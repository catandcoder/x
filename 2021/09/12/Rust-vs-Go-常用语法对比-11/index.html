<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="崔某人的碎碎念,通才基础上的专才"><meta name="keywords" content="mysql,golang,算法"><title>Rust vs Go:常用语法对比(11) | 清澄秋爽</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Rust vs Go:常用语法对比(11)</h1><a id="logo" href="/.">清澄秋爽</a><p class="description">苹果树下的思索者 书写是对思维的缓存</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Rust vs Go:常用语法对比(11)</h1><div class="post-meta"><a href="/2021/09/12/Rust-vs-Go-常用语法对比-11/#comments" class="comment-count"></a><p><span class="date">Sep 12, 2021</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><br>
<h3 id="202-font-color-0c0a3e-Sum-of-squares-font"><a class="header-anchor" href="#202-font-color-0c0a3e-Sum-of-squares-font">¶</a>202. <font color="0c0a3e">Sum of squares</font></h3>
<blockquote>
<p>Calculate the sum of squares s of data, an array of floating point values.</p>
</blockquote>
<p><em>计算平方和</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data := []<span class="keyword">float64</span>&#123;<span class="number">0.06</span>, <span class="number">0.82</span>, <span class="number">-0.01</span>, <span class="number">-0.34</span>, <span class="number">-0.55</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> s <span class="keyword">float64</span></span><br><span class="line">	<span class="keyword">for</span> _, d := <span class="keyword">range</span> data &#123;</span><br><span class="line">		s += math.Pow(d, <span class="number">2</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">println</span>(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>+1.094200e+000</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> data: <span class="built_in">Vec</span>&lt;<span class="built_in">f32</span>&gt; = <span class="built_in">vec!</span>[<span class="number">2.0</span>, <span class="number">3.5</span>, <span class="number">4.0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> s = data.iter().map(|x| x.powi(<span class="number">2</span>)).sum::&lt;<span class="built_in">f32</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>32.25</code></p>
<br>
<h3 id="205-font-color-0c0a3e-Get-an-environment-variable-font"><a class="header-anchor" href="#205-font-color-0c0a3e-Get-an-environment-variable-font">¶</a>205. <font color="0c0a3e">Get an environment variable</font></h3>
<blockquote>
<p>Read an environment variable with the name “FOO” and assign it to the string variable foo. If it does not exist or if the system does not support environment variables, assign a value of “none”.</p>
</blockquote>
<p><em>获取环境变量</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	foo, ok := os.LookupEnv(<span class="string">"FOO"</span>)</span><br><span class="line">	<span class="keyword">if</span> !ok &#123;</span><br><span class="line">		foo = <span class="string">"none"</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(foo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>none</code></p>
<p>or</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	foo := os.Getenv(<span class="string">"FOO"</span>)</span><br><span class="line">	<span class="keyword">if</span> foo == <span class="string">""</span> &#123;</span><br><span class="line">		foo = <span class="string">"none"</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(foo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>none</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::env;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> foo;</span><br><span class="line">    <span class="keyword">match</span> env::var(<span class="string">"FOO"</span>) &#123;</span><br><span class="line">        <span class="literal">Ok</span>(val) =&gt; foo = val,</span><br><span class="line">        <span class="literal">Err</span>(_e) =&gt; foo = <span class="string">"none"</span>.to_string(),</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, foo);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> user;</span><br><span class="line">    <span class="keyword">match</span> env::var(<span class="string">"USER"</span>) &#123;</span><br><span class="line">        <span class="literal">Ok</span>(val) =&gt; user = val,</span><br><span class="line">        <span class="literal">Err</span>(_e) =&gt; user = <span class="string">"none"</span>.to_string(),</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">none</span><br><span class="line">playground</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::env;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> foo = env::var(<span class="string">"FOO"</span>).unwrap_or(<span class="string">"none"</span>.to_string());</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, foo);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> user = env::var(<span class="string">"USER"</span>).unwrap_or(<span class="string">"none"</span>.to_string());</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">none</span><br><span class="line">playground</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::env;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> foo = <span class="keyword">match</span> env::var(<span class="string">"FOO"</span>) &#123;</span><br><span class="line">        <span class="literal">Ok</span>(val) =&gt; val,</span><br><span class="line">        <span class="literal">Err</span>(_e) =&gt; <span class="string">"none"</span>.to_string(),</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, foo);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> user = <span class="keyword">match</span> env::var(<span class="string">"USER"</span>) &#123;</span><br><span class="line">        <span class="literal">Ok</span>(val) =&gt; val,</span><br><span class="line">        <span class="literal">Err</span>(_e) =&gt; <span class="string">"none"</span>.to_string(),</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">none</span><br><span class="line">playground</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::env;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Ok</span>(tnt_root) = env::var(<span class="string">"TNT_ROOT"</span>) &#123;</span><br><span class="line">     <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>
<h3 id="206-font-color-0c0a3e-Switch-statement-with-strings-font"><a class="header-anchor" href="#206-font-color-0c0a3e-Switch-statement-with-strings-font">¶</a>206. <font color="0c0a3e">Switch statement with strings</font></h3>
<blockquote>
<p>Execute different procedures foo, bar, baz and barfl if the string str contains the name of the respective procedure. Do it in a way natural to the language.</p>
</blockquote>
<p><em>switch语句</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	str := <span class="string">"baz"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> str &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"foo"</span>:</span><br><span class="line">		foo()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"bar"</span>:</span><br><span class="line">		bar()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"baz"</span>:</span><br><span class="line">		baz()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"barfl"</span>:</span><br><span class="line">		barfl()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"Called foo"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"Called bar"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">baz</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"Called baz"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">barfl</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"Called barfl"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Called baz</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>() &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">bar</span></span>() &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">baz</span></span>() &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">barfl</span></span>() &#123;&#125;</span><br><span class="line">    <span class="keyword">let</span> str_ = <span class="string">"x"</span>;</span><br><span class="line">    <span class="keyword">match</span> str_ &#123;</span><br><span class="line">        <span class="string">"foo"</span> =&gt; foo(),</span><br><span class="line">        <span class="string">"bar"</span> =&gt; bar(),</span><br><span class="line">        <span class="string">"baz"</span> =&gt; baz(),</span><br><span class="line">        <span class="string">"barfl"</span> =&gt; barfl(),</span><br><span class="line">        _ =&gt; &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>
<h3 id="207-font-color-0c0a3e-Allocate-a-list-that-is-automatically-deallocated-font"><a class="header-anchor" href="#207-font-color-0c0a3e-Allocate-a-list-that-is-automatically-deallocated-font">¶</a>207. <font color="0c0a3e">Allocate a list that is automatically deallocated</font></h3>
<blockquote>
<p>Allocate a list a containing n elements (n assumed to be too large for a stack) that is automatically deallocated when the program exits the scope it is declared in.</p>
</blockquote>
<p><em>分配一个自动解除分配的列表</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">byte</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	n := <span class="number">10</span>_000_000</span><br><span class="line">	a := <span class="built_in">make</span>([]T, n)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(a))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>Elements have type T.<br>
a is garbage-collected after the program exits its scope, unless we let it “escape” by taking its reference.<br>
The runtime decides if a lives in the stack on in the heap.</em></p>
<p><code>10000000</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="built_in">vec!</span>[<span class="number">0</span>; n];</span><br></pre></td></tr></table></figure>
<p><code>Heap allocations are deallocated when the variable goes out of scope.</code></p>
<br>
<h3 id="208-font-color-0c0a3e-Formula-with-arrays-font"><a class="header-anchor" href="#208-font-color-0c0a3e-Formula-with-arrays-font">¶</a>208. <font color="0c0a3e">Formula with arrays</font></h3>
<blockquote>
<p>Given the arrays a,b,c,d of equal length and the scalar e, calculate a = e*(a+b*c+cos(d)).<br>
Store the results in a.</p>
</blockquote>
<p><em>对数组元素进行运算</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applyFormula</span><span class="params">(a, b, c, d []<span class="keyword">float64</span>, e <span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">		a[i] = e * (v + b[i] + c[i] + math.Cos(d[i]))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := []<span class="keyword">float64</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	b := []<span class="keyword">float64</span>&#123;<span class="number">5.5</span>, <span class="number">6.6</span>, <span class="number">7.7</span>, <span class="number">8.8</span>&#125;</span><br><span class="line">	c := []<span class="keyword">float64</span>&#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>&#125;</span><br><span class="line">	d := []<span class="keyword">float64</span>&#123;<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>&#125;</span><br><span class="line">	e := <span class="number">42.0</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"a is    "</span>, a)</span><br><span class="line">	applyFormula(a, b, c, d, e)</span><br><span class="line">	fmt.Println(<span class="string">"a is now"</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a is     [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line">a is now [<span class="number">689.1127648209083</span> <span class="number">786.9429631647291</span> <span class="number">879.4931076599294</span> <span class="number">1001.3783018264178</span>]</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> a: [<span class="built_in">f32</span>; <span class="number">5</span>] = [<span class="number">5</span>., <span class="number">2</span>., <span class="number">8</span>., <span class="number">9</span>., <span class="number">0.5</span>]; <span class="comment">// we want it to be mutable</span></span><br><span class="line">    <span class="keyword">let</span> b: [<span class="built_in">f32</span>; <span class="number">5</span>] = [<span class="number">7</span>., <span class="number">9</span>., <span class="number">8</span>., <span class="number">0.965</span>, <span class="number">0.98</span>]; </span><br><span class="line">    <span class="keyword">let</span> c: [<span class="built_in">f32</span>; <span class="number">5</span>] = [<span class="number">0</span>., <span class="number">0.8</span>, <span class="number">789456</span>., <span class="number">123456</span>., <span class="number">0.0003</span>]; </span><br><span class="line">    <span class="keyword">let</span> d: [<span class="built_in">f32</span>; <span class="number">5</span>] = [<span class="number">332</span>., <span class="number">0.1</span>, <span class="number">8</span>., <span class="number">9874</span>., <span class="number">0.3</span>]; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> e: <span class="built_in">f32</span> = <span class="number">85</span>.;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..a.len() &#123;</span><br><span class="line">        a[i] = e * (a[i] + b[i] * c[i] + d[i].cos());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, a); <span class="comment">//Don't have any idea about the output</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>[470.29297, 866.57544, 536830750.0, 10127158.0, 123.7286]</code></p>
<br>
<h3 id="209-font-color-0c0a3e-Type-with-automatic-deep-deallocation-font"><a class="header-anchor" href="#209-font-color-0c0a3e-Type-with-automatic-deep-deallocation-font">¶</a>209. <font color="0c0a3e">Type with automatic deep deallocation</font></h3>
<blockquote>
<p>Declare a type t which contains a string s and an integer array n with variable size, and allocate a variable v of type t. Allocate v.s and v.n and set them to the values “Hello, world!” for s and [1,4,9,16,25], respectively. Deallocate v, automatically deallocating v.s and v.n (no memory leaks).</p>
</blockquote>
<p><em>自动深度解除分配的类型</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">type</span> t <span class="keyword">struct</span> &#123;</span><br><span class="line">		s <span class="keyword">string</span></span><br><span class="line">		n []<span class="keyword">int</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	v := t&#123;</span><br><span class="line">		s: <span class="string">"Hello, world!"</span>,</span><br><span class="line">		n: []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Pretend to use v (otherwise this is a compile error)</span></span><br><span class="line">	_ = v</span><br><span class="line"></span><br><span class="line">	<span class="comment">// When f exits, v and all its fields are garbage-collected, recursively</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>After v goes out of scope, v and all its fields will be garbage-collected, recursively</em></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">T</span></span> &#123;</span><br><span class="line">	s: <span class="built_in">String</span>,</span><br><span class="line">	n: <span class="built_in">Vec</span>&lt;<span class="built_in">usize</span>&gt;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">	<span class="keyword">let</span> v = T &#123;</span><br><span class="line">		s: <span class="string">"Hello, world!"</span>.into(),</span><br><span class="line">		n: <span class="built_in">vec!</span>[<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>When a variable goes out of scope, all member variables are deallocated recursively.</em></p>
<br>
<h3 id="211-font-color-0c0a3e-Create-folder-font"><a class="header-anchor" href="#211-font-color-0c0a3e-Create-folder-font">¶</a>211. <font color="0c0a3e">Create folder</font></h3>
<blockquote>
<p>Create the folder at path on the filesystem</p>
</blockquote>
<p><em>创建文件夹</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	path := <span class="string">"foo"</span></span><br><span class="line">	_, err := os.Stat(path)</span><br><span class="line">	b := !os.IsNotExist(err)</span><br><span class="line">	fmt.Println(path, <span class="string">"exists:"</span>, b)</span><br><span class="line"></span><br><span class="line">	err = os.Mkdir(path, os.ModeDir)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	info, err2 := os.Stat(path)</span><br><span class="line">	b = !os.IsNotExist(err2)</span><br><span class="line">	fmt.Println(path, <span class="string">"exists:"</span>, b)</span><br><span class="line">	fmt.Println(path, <span class="string">"is a directory:"</span>, info.IsDir())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo exists: <span class="literal">false</span></span><br><span class="line">foo exists: <span class="literal">true</span></span><br><span class="line">foo is a directory: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	path := <span class="string">"foo/bar"</span></span><br><span class="line">	_, err := os.Stat(path)</span><br><span class="line">	b := !os.IsNotExist(err)</span><br><span class="line">	fmt.Println(path, <span class="string">"exists:"</span>, b)</span><br><span class="line"></span><br><span class="line">	err = os.Mkdir(path, os.ModeDir)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Could not create"</span>, path, <span class="string">"with os.Mkdir"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	info, err2 := os.Stat(path)</span><br><span class="line">	b = !os.IsNotExist(err2)</span><br><span class="line">	fmt.Println(path, <span class="string">"exists:"</span>, b)</span><br><span class="line"></span><br><span class="line">	err = os.MkdirAll(path, os.ModeDir)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Could not create"</span>, path, <span class="string">"with os.MkdirAll"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	info, err2 = os.Stat(path)</span><br><span class="line">	b = !os.IsNotExist(err2)</span><br><span class="line">	fmt.Println(path, <span class="string">"exists:"</span>, b)</span><br><span class="line">	fmt.Println(path, <span class="string">"is a directory:"</span>, info.IsDir())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">foo/bar exists: <span class="literal">false</span></span><br><span class="line">Could not create foo/bar with os.Mkdir</span><br><span class="line">foo/bar exists: <span class="literal">false</span></span><br><span class="line">foo/bar exists: <span class="literal">true</span></span><br><span class="line">foo/bar is a directory: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fs;</span><br><span class="line"><span class="keyword">use</span> std::path::Path;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> path = <span class="string">"/tmp/goofy"</span>;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; exists: &#123;&#125;"</span>, path, b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> r = fs::create_dir(path);</span><br><span class="line">    <span class="keyword">match</span> r &#123;</span><br><span class="line">        <span class="literal">Err</span>(e) =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"error creating &#123;&#125;: &#123;&#125;"</span>, path, e);</span><br><span class="line">            std::process::exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="literal">Ok</span>(_) =&gt; <span class="built_in">println!</span>(<span class="string">"created &#123;&#125;: OK"</span>, path),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; exists: &#123;&#125;"</span>, path, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/tmp/goofy exists: <span class="literal">false</span></span><br><span class="line">created /tmp/goofy: OK</span><br><span class="line">/tmp/goofy exists: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fs;</span><br><span class="line"><span class="keyword">use</span> std::path::Path;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> path = <span class="string">"/tmp/friends/goofy"</span>;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; exists: &#123;&#125;"</span>, path, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fs::create_dir can't create parent folders</span></span><br><span class="line">    <span class="keyword">let</span> r = fs::create_dir(path);</span><br><span class="line">    <span class="keyword">match</span> r &#123;</span><br><span class="line">        <span class="literal">Err</span>(e) =&gt; <span class="built_in">println!</span>(<span class="string">"error creating &#123;&#125;: &#123;&#125;"</span>, path, e),</span><br><span class="line">        <span class="literal">Ok</span>(_) =&gt; <span class="built_in">println!</span>(<span class="string">"created &#123;&#125;: OK"</span>, path),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; exists: &#123;&#125;"</span>, path, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fs::create_dir_all does create parent folders</span></span><br><span class="line">    <span class="keyword">let</span> r = fs::create_dir_all(path);</span><br><span class="line">    <span class="keyword">match</span> r &#123;</span><br><span class="line">        <span class="literal">Err</span>(e) =&gt; <span class="built_in">println!</span>(<span class="string">"error creating &#123;&#125;: &#123;&#125;"</span>, path, e),</span><br><span class="line">        <span class="literal">Ok</span>(_) =&gt; <span class="built_in">println!</span>(<span class="string">"created &#123;&#125;: OK"</span>, path),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; exists: &#123;&#125;"</span>, path, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/tmp/friends/goofy exists: <span class="literal">false</span></span><br><span class="line">error creating /tmp/friends/goofy: No such file or directory (os error <span class="number">2</span>)</span><br><span class="line">/tmp/friends/goofy exists: <span class="literal">false</span></span><br><span class="line">created /tmp/friends/goofy: OK</span><br><span class="line">/tmp/friends/goofy exists: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<br>
<h3 id="212-font-color-0c0a3e-Check-if-folder-exists-font"><a class="header-anchor" href="#212-font-color-0c0a3e-Check-if-folder-exists-font">¶</a>212. <font color="0c0a3e">Check if folder exists</font></h3>
<blockquote>
<p>Set boolean b to true if path exists on the filesystem and is a directory; false otherwise.</p>
</blockquote>
<p><em>检查文件夹是否存在</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	path := <span class="string">"foo"</span></span><br><span class="line">	info, err := os.Stat(path)</span><br><span class="line">	b := !os.IsNotExist(err) &amp;&amp; info.IsDir()</span><br><span class="line">	fmt.Println(path, <span class="string">"is a directory:"</span>, b)</span><br><span class="line"></span><br><span class="line">	err = os.Mkdir(path, os.ModeDir)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	info, err = os.Stat(path)</span><br><span class="line">	b = !os.IsNotExist(err) &amp;&amp; info.IsDir()</span><br><span class="line">	fmt.Println(path, <span class="string">"is a directory:"</span>, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo is a directory: <span class="literal">false</span></span><br><span class="line">foo is a directory: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::path::Path;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> path = <span class="string">"/etc"</span>;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;: &#123;&#125;"</span>, path, b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> path = <span class="string">"/goofy"</span>;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">bool</span> = Path::new(path).is_dir();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;: &#123;&#125;"</span>, path, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc: <span class="literal">true</span></span><br><span class="line">/goofy: <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<br>
<h3 id="215-font-color-0c0a3e-Pad-string-on-the-left-font"><a class="header-anchor" href="#215-font-color-0c0a3e-Pad-string-on-the-left-font">¶</a>215. <font color="0c0a3e">Pad string on the left</font></h3>
<blockquote>
<p>Prepend extra character c at the beginning of string s to make sure its length is at least m.<br>
The length is the number of characters, not the number of bytes.</p>
</blockquote>
<p><em>左侧补齐字符串</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">	<span class="string">"unicode/utf8"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="number">3</span></span><br><span class="line">	c := <span class="string">"-"</span></span><br><span class="line">	<span class="keyword">for</span> _, s := <span class="keyword">range</span> []<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">""</span>,</span><br><span class="line">		<span class="string">"a"</span>,</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"abc"</span>,</span><br><span class="line">		<span class="string">"abcd"</span>,</span><br><span class="line">		<span class="string">"é"</span>,</span><br><span class="line">	&#125; &#123;</span><br><span class="line">		<span class="keyword">if</span> n := utf8.RuneCountInString(s); n &lt; m &#123;</span><br><span class="line">			s = strings.Repeat(c, m-n) + s</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(s)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">--a</span><br><span class="line">-ab</span><br><span class="line">abc</span><br><span class="line">abcd</span><br><span class="line">--é</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> unicode_width::&#123;UnicodeWidthChar, UnicodeWidthStr&#125;;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(columns_short) = m.checked_sub(s.width()) &#123;</span><br><span class="line">    <span class="keyword">let</span> padding_width = c</span><br><span class="line">        .width()</span><br><span class="line">        .filter(|n| *n &gt; <span class="number">0</span>)</span><br><span class="line">        .expect(<span class="string">"padding character should be visible"</span>);</span><br><span class="line">    <span class="comment">// Saturate the columns_short</span></span><br><span class="line">    <span class="keyword">let</span> padding_needed = columns_short + padding_width - <span class="number">1</span> / padding_width;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> t = <span class="built_in">String</span>::with_capacity(s.len() + padding_needed);</span><br><span class="line">    t.extend((<span class="number">0</span>..padding_needed).map(|_| c)</span><br><span class="line">    t.push_str(&amp;s);</span><br><span class="line">    s = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>*This uses the Unicode display width to determine the padding needed. This will be appropriate for most uses of monospaced text.</p>
<p>It assumes that m won’t combine with other characters to form a grapheme.*</p>
<br>
<h3 id="217-font-color-0c0a3e-Create-a-Zip-archive-font"><a class="header-anchor" href="#217-font-color-0c0a3e-Create-a-Zip-archive-font">¶</a>217. <font color="0c0a3e">Create a Zip archive</font></h3>
<blockquote>
<p>Create a zip-file with filename name and add the files listed in list to that zip-file.</p>
</blockquote>
<p><em>创建压缩文件</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"archive/zip"</span></span><br><span class="line">	<span class="string">"bytes"</span></span><br><span class="line">	<span class="string">"io"</span></span><br><span class="line">	<span class="string">"io/ioutil"</span></span><br><span class="line">	<span class="string">"log"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	list := []<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">"readme.txt"</span>,</span><br><span class="line">		<span class="string">"gopher.txt"</span>,</span><br><span class="line">		<span class="string">"todo.txt"</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	name := <span class="string">"archive.zip"</span></span><br><span class="line"></span><br><span class="line">	err := makeZip(list, name)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeZip</span><span class="params">(list []<span class="keyword">string</span>, name <span class="keyword">string</span>)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">	<span class="comment">// Create a buffer to write our archive to.</span></span><br><span class="line">	buf := <span class="built_in">new</span>(bytes.Buffer)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Create a new zip archive.</span></span><br><span class="line">	w := zip.NewWriter(buf)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Add some files to the archive.</span></span><br><span class="line">	<span class="keyword">for</span> _, filename := <span class="keyword">range</span> list &#123;</span><br><span class="line">		<span class="comment">// Open file for reading</span></span><br><span class="line">		input, err := os.Open(filename)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> err</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// Create ZIP entry for writing</span></span><br><span class="line">		output, err := w.Create(filename)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> err</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		_, err = io.Copy(output, input)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> err</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Make sure to check the error on Close.</span></span><br><span class="line">	err := w.Close()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	N := buf.Len()</span><br><span class="line">	err = ioutil.WriteFile(name, buf.Bytes(), <span class="number">0777</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	log.Println(<span class="string">"Written a ZIP file of"</span>, N, <span class="string">"bytes"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// Create some files in the filesystem.</span></span><br><span class="line">	<span class="keyword">var</span> files = []<span class="keyword">struct</span> &#123;</span><br><span class="line">		Name, Body <span class="keyword">string</span></span><br><span class="line">	&#125;&#123;</span><br><span class="line">		&#123;<span class="string">"readme.txt"</span>, <span class="string">"This archive contains some text files."</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"gopher.txt"</span>, <span class="string">"Gopher names:\nGeorge\nGeoffrey\nGonzo"</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"todo.txt"</span>, <span class="string">"Get animal handling licence.\nWrite more examples."</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> _, file := <span class="keyword">range</span> files &#123;</span><br><span class="line">		err := ioutil.WriteFile(file.Name, []<span class="keyword">byte</span>(file.Body), <span class="number">0777</span>)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			log.Fatal(err)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>list contains filenames of files existing in the filesystem.<br>
In this example, the zip data is buffered in memory before writing to the filesystem.</em></p>
<p><code>2009/11/10 23:00:00 Written a ZIP file of 492 bytes</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> zip::write::FileOptions;</span><br><span class="line"><span class="keyword">let</span> path = std::path::Path::new(_name);</span><br><span class="line"><span class="keyword">let</span> file = std::fs::File::create(&amp;path).unwrap();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> zip = zip::ZipWriter::new(file); zip.start_file(<span class="string">"readme.txt"</span>, FileOptions::default())?;                                                          </span><br><span class="line">zip.write_all(<span class="string">b"Hello, World!\n"</span>)?;</span><br><span class="line">zip.finish()?;</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> zip::write::FileOptions;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">zip</span></span>(_name: &amp;<span class="built_in">str</span>, _list: <span class="built_in">Vec</span>&lt;&amp;<span class="built_in">str</span>&gt;) -&gt; zip::result::ZipResult&lt;()&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> path = std::path::Path::new(_name);</span><br><span class="line">    <span class="keyword">let</span> file = std::fs::File::create(&amp;path).unwrap();</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> zip = zip::ZipWriter::new(file);</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> _list.iter() &#123;</span><br><span class="line">        zip.start_file(i <span class="keyword">as</span> &amp;<span class="built_in">str</span>, FileOptions::default())?;</span><br><span class="line">    &#125;</span><br><span class="line">    zip.finish()?;</span><br><span class="line">    <span class="literal">Ok</span>(())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>
<h3 id="218-font-color-0c0a3e-List-intersection-font"><a class="header-anchor" href="#218-font-color-0c0a3e-List-intersection-font">¶</a>218. <font color="0c0a3e">List intersection</font></h3>
<blockquote>
<p>Create list c containing all unique elements that are contained in both lists a and b.<br>
c should not contain any duplicates, even if a and b do.<br>
The order of c doesn’t matter.</p>
</blockquote>
<p><em>列表的交集</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := []T&#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line">	b := []T&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Convert to sets</span></span><br><span class="line">	seta := <span class="built_in">make</span>(<span class="keyword">map</span>[T]<span class="keyword">bool</span>, <span class="built_in">len</span>(a))</span><br><span class="line">	<span class="keyword">for</span> _, x := <span class="keyword">range</span> a &#123;</span><br><span class="line">		seta[x] = <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	setb := <span class="built_in">make</span>(<span class="keyword">map</span>[T]<span class="keyword">bool</span>, <span class="built_in">len</span>(a))</span><br><span class="line">	<span class="keyword">for</span> _, y := <span class="keyword">range</span> b &#123;</span><br><span class="line">		setb[y] = <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Iterate in one pass</span></span><br><span class="line">	<span class="keyword">var</span> c []T</span><br><span class="line">	<span class="keyword">for</span> x := <span class="keyword">range</span> seta &#123;</span><br><span class="line">		<span class="keyword">if</span> setb[x] &#123;</span><br><span class="line">			c = <span class="built_in">append</span>(c, x)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>[5 7 9]</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::collections::HashSet;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">    <span class="keyword">let</span> b = <span class="built_in">vec!</span>[<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> unique_a = a.iter().collect::&lt;HashSet&lt;_&gt;&gt;();</span><br><span class="line">    <span class="keyword">let</span> unique_b = b.iter().collect::&lt;HashSet&lt;_&gt;&gt;();</span><br><span class="line">    <span class="keyword">let</span> c = unique_a.intersection(&amp;unique_b).collect::&lt;<span class="built_in">Vec</span>&lt;_&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"c: &#123;:?&#125;"</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>c: [2, 4]</code></p>
<p>or</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::collections::HashSet;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">    <span class="keyword">let</span> b = <span class="built_in">vec!</span>[<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> set_a: HashSet&lt;_&gt; = a.into_iter().collect();</span><br><span class="line">    <span class="keyword">let</span> set_b: HashSet&lt;_&gt; = b.into_iter().collect();</span><br><span class="line">    <span class="keyword">let</span> c = set_a.intersection(&amp;set_b);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"c: &#123;:?&#125;"</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>c: [2, 4]</code></p>
<br>
<h3 id="219-font-color-0c0a3e-Replace-multiple-spaces-with-single-space-font"><a class="header-anchor" href="#219-font-color-0c0a3e-Replace-multiple-spaces-with-single-space-font">¶</a>219. <font color="0c0a3e">Replace multiple spaces with single space</font></h3>
<blockquote>
<p>Create string t from the value of string s with each sequence of spaces replaced by a single space.<br>Explain if only the space characters will be replaced, or the other whitespaces as well: tabs, newlines.</p>
</blockquote>
<p><em>用单个空格替换多个空格</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"regexp"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// regexp created only once, and then reused</span></span><br><span class="line"><span class="keyword">var</span> whitespaces = regexp.MustCompile(<span class="string">`\s+`</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := <span class="string">`</span></span><br><span class="line"><span class="string">	one   two</span></span><br><span class="line"><span class="string">	   three</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line"></span><br><span class="line">	t := whitespaces.ReplaceAllString(s, <span class="string">" "</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"t=%q"</span>, t)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>t=&quot; one two three &quot;</code></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> regex::Regex;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="string">"</span></span><br><span class="line"><span class="string">	one   two</span></span><br><span class="line"><span class="string">	   three</span></span><br><span class="line"><span class="string">	"</span>;</span><br><span class="line">    <span class="keyword">let</span> re = Regex::new(<span class="string">r"\s+"</span>).unwrap();</span><br><span class="line">    <span class="keyword">let</span> t = re.replace_all(s, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>one two three</code></p>
<br>
<h3 id="220-font-color-0c0a3e-Create-a-tuple-value-font"><a class="header-anchor" href="#220-font-color-0c0a3e-Create-a-tuple-value-font">¶</a>220. <font color="0c0a3e">Create a tuple value</font></h3>
<blockquote>
<p>Create t consisting of 3 values having different types.<br>Explain if the elements of t are strongly typed or not.</p>
</blockquote>
<p><em>创建元组值a</em></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t := []<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">	<span class="number">2.5</span>,</span><br><span class="line">	<span class="string">"hello"</span>,</span><br><span class="line">	<span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>A slice of empty interface may hold any values (not strongly typed).</strong></p>
<hr>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> t = (<span class="number">2.5</span>, <span class="string">"hello"</span>, -<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    t.<span class="number">2</span> -= <span class="number">4</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>(2.5, &quot;hello&quot;, -5)</code></p>
<br>
<!--爽哥为赞赏功能新加--></div><!--script(type='text/javascript', src=url_for(theme.js) + '/jquery.js' + '?v=' + theme.version, async)--><script type="text/javascript" src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>BTC Address:3NNxkM6ez7szsUAgTnK2VaF949LoGmXuBs<br></div></div><div id="donate_guide" class="donate_bar center hidden pay"><img src="http://cuishuang.gitee.io/img/weChatMoney.png" title="微信打赏" alt="微信打赏"><img src="http://cuishuang.gitee.io/img/alipayMoney.png" title="支付宝打赏" alt="支付宝打赏"><img src="http://cuishuang.gitee.io/img/btc.png" title="比特币打赏" alt="比特币打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><!-- google adsense--><!--if theme.show_ad_post == true--><!--    script(async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")--><!--    ins.adsbygoogle(style="display:block" data-ad-client="ca-pub-1181798273731653" data-ad-format="auto")--><!--    script (adsbygoogle = window.adsbygoogle || []).push({});-->
<div class="post-copyright"><blockquote><p>原文作者: fliter</p><p>原文链接: </p><a href="http://www.dashen.tech/2021/09/12/Rust-vs-Go-常用语法对比-11/">http://www.dashen.tech/2021/09/12/Rust-vs-Go-常用语法对比-11/</a><p>版权声明: 转载请注明出处</p></blockquote></div><div class="tags"><a href="/tags/Rust/">Rust</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2021/09/13/Rust-vs-Go-常用语法对比-12/" class="pre">Rust vs Go:常用语法对比(12)</a><a href="/2021/09/11/Rust-vs-Go-常用语法对比-10/" class="next">Rust vs Go:常用语法对比(10)</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#202-font-color-0c0a3e-Sum-of-squares-font"><span class="toc-text">¶202. Sum of squares</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#205-font-color-0c0a3e-Get-an-environment-variable-font"><span class="toc-text">¶205. Get an environment variable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#206-font-color-0c0a3e-Switch-statement-with-strings-font"><span class="toc-text">¶206. Switch statement with strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#207-font-color-0c0a3e-Allocate-a-list-that-is-automatically-deallocated-font"><span class="toc-text">¶207. Allocate a list that is automatically deallocated</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#208-font-color-0c0a3e-Formula-with-arrays-font"><span class="toc-text">¶208. Formula with arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#209-font-color-0c0a3e-Type-with-automatic-deep-deallocation-font"><span class="toc-text">¶209. Type with automatic deep deallocation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#211-font-color-0c0a3e-Create-folder-font"><span class="toc-text">¶211. Create folder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#212-font-color-0c0a3e-Check-if-folder-exists-font"><span class="toc-text">¶212. Check if folder exists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#215-font-color-0c0a3e-Pad-string-on-the-left-font"><span class="toc-text">¶215. Pad string on the left</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#217-font-color-0c0a3e-Create-a-Zip-archive-font"><span class="toc-text">¶217. Create a Zip archive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#218-font-color-0c0a3e-List-intersection-font"><span class="toc-text">¶218. List intersection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#219-font-color-0c0a3e-Replace-multiple-spaces-with-single-space-font"><span class="toc-text">¶219. Replace multiple spaces with single space</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#220-font-color-0c0a3e-Create-a-tuple-value-font"><span class="toc-text">¶220. Create a tuple value</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2026/01/23/Go实用mock工具/">Go实用mock工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/08/Rust时间和日期/">Rust时间和日期</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Go使用通配符删除文件/">Go使用通配符删除文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/14/OBS推流/">OBS推流</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/14/二进制分析工具/">二进制分析工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/12/协程调度顺序/">协程调度顺序</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/24/Go内存管理之内存分配/">Go内存管理之内存分配</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/17/Go内存优化/">Go内存优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/09/关于零号协程/">关于零号协程</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/11/统计某月有几篇博文/">统计某月有几篇博文</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-weixin"> 扫码关注-旅途散记</i></div><img width="100%" height="233" title="微信扫一扫" src="https://cuishuang.gitee.io/img/lvtusanji.jpg"></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tree/">Tree</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/runtime/">runtime</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sync/">sync</a><span class="category-list-count">12</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Todo/" style="font-size: 15px;">Todo</a> <a href="/tags/操作系统/" style="font-size: 15px;">操作系统</a> <a href="/tags/译海一粟/" style="font-size: 15px;">译海一粟</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Pearl/" style="font-size: 15px;">Pearl</a> <a href="/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/Go/" style="font-size: 15px;">Go</a> <a href="/tags/Compiler/" style="font-size: 15px;">Compiler</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/密码学/" style="font-size: 15px;">密码学</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/Interview/" style="font-size: 15px;">Interview</a> <a href="/tags/杂谈/" style="font-size: 15px;">杂谈</a> <a href="/tags/金庸/" style="font-size: 15px;">金庸</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/数学/" style="font-size: 15px;">数学</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/Rust/" style="font-size: 15px;">Rust</a> <a href="/tags/explore/" style="font-size: 15px;">explore</a> <a href="/tags/书摘-影评/" style="font-size: 15px;">书摘/影评</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/足球-体育/" style="font-size: 15px;">足球&体育</a> <a href="/tags/读城记/" style="font-size: 15px;">读城记</a> <a href="/tags/星陨/" style="font-size: 15px;">星陨</a> <a href="/tags/奇文共赏/" style="font-size: 15px;">奇文共赏</a> <a href="/tags/区域经济/" style="font-size: 15px;">区域经济</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/01/">一月 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1093/02/">二月 1093</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://leetcode.com/" title="LeetCode" target="_blank">LeetCode</a><ul></ul><a href="https://golang.org/" title="Go官网" target="_blank">Go官网</a><ul></ul><a href="https://tonybai.com/" title="TonyBai" target="_blank">TonyBai</a><ul></ul><a href="http://lietoumai.com/" title="顾问麦的小站" target="_blank">顾问麦的小站</a><ul></ul><a href="https://www.coolshell.cn/" title="酷壳" target="_blank">酷壳</a><ul></ul><a href="https://notes.diguage.com/" title="瓜哥" target="_blank">瓜哥</a><ul></ul><a href="https://taoshu.in/" title="涛叔" target="_blank">涛叔</a><ul></ul><a href="https://colobu.com/" title="鸟窝" target="_blank">鸟窝</a><ul></ul><a href="http://xiaorui.cc/" title="峰云" target="_blank">峰云</a><ul></ul><a href="https://eddycjy.com/posts/" title="煎鱼" target="_blank">煎鱼</a><ul></ul><a href="https://hutusi.com/" title="胡涂说" target="_blank">胡涂说</a><ul></ul><a href="https://qcrao.com/" title="码农桃花源" target="_blank">码农桃花源</a><ul></ul><a href="https://github.com/KeKe-Li/For-learning-Go-Tutorial" title="远方的笔记" target="_blank">远方的笔记</a><ul></ul><a href="https://xargin.com/" title="No Headback" target="_blank">No Headback</a><ul></ul><a href="http://thoslin.github.io/" title="Eat Pray Code" target="_blank">Eat Pray Code</a><ul></ul><a href="https://www.ashenone66.cn/" title="AshenOne's Blog" target="_blank">AshenOne's Blog</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> 备案号:<a href="http://www.beian.miit.gov.cn/"> 鲁ICP备18010105号</a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">fliter.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e10d6858b78ff3fc7853fc72e7240eab";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>